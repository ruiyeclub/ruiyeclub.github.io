<!DOCTYPE html>




<html class="theme-next tumo" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">
<link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.1">








<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/tumo.css" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Ray4j's Blog" />










<meta name="description" content="Awesome guy.">
<meta property="og:type" content="website">
<meta property="og:title" content="Ruiyeclub">
<meta property="og:url" content="https://ruiyeclub.cn/page/3/index.html">
<meta property="og:site_name" content="Ruiyeclub">
<meta property="og:description" content="Awesome guy.">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Cr.">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Tumo',
    version: '5.1.4',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://ruiyeclub.cn/page/3/"/>





  <title>Ruiyeclub</title>
  








<meta name="generator" content="Hexo 7.1.1"></head>

<body itemscope itemtype="http://schema.org/WebPage" style="overflow-x:hidden;padding-right:320px" lang="en">

  <style>@media (min-width:768px) and (max-width:991px){body .header-innerr{width:700px!important}}.header-innerr{margin:0 auto;padding:100px 0 70px;width:880px}@media (min-width:1600px){.container .header-innerr{width:1200px}}.header-innerr{position:relative}.header-innerr{padding:20px 0 0}.header-innerr:after,.header-innerr:before{content:" ";display:table}.header-innerr:after{clear:both}@media (max-width:767px){.header-innerr{width:auto;padding:10px;margin-bottom:-20px}}</style>

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    
    

    <link href="/lib/font-awesome/css/font-merienda.css?v=4.6.2" rel="stylesheet" type="text/css" />

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title" style="font-family:Merienda;font-size:1.3rem">Ruiyeclub</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">

  
    <ul id="menu" class="menu">
      
        
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            HOME
          </a>
        </li>
      
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            ARCHIVES
          </a>
        </li>
      
        
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            ABOUT
          </a>
        </li>
      
        
        
        <li class="menu-item menu-item-links">
          <a href="/links/" rel="section">
            LINKS
          </a>
        </li>
      

    </ul>
  

</nav>



 </div>

      <div class="header-innerr">
        
          <div class="note info" style="margin:0;letter-spacing:.15px">
            ğŸ¤SpringBootå­¦ä¹ å…¥é—¨Demoï¼ŒæŒç»­æ›´æ–°ä¸­...ï¼š
            <a style="color:#40dab2;font-weight:600" 
              href="https://github.com/ruiyeclub/SpringBoot-Hello" target="_blank" class="animsition-link">
              https://github.com/ruiyeclub/SpringBoot-Hello
            </a>
          </div>
        
      </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  
  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://ruiyeclub.cn/2024/01/04/%E5%BC%80%E5%8F%91%E5%BF%85%E5%A4%87%E8%BD%AF%E4%BB%B6-Typora%E9%85%8D%E5%90%88PicGo%E9%98%BF%E9%87%8C%E4%BA%91%E5%9B%BE%E5%BA%8A%E9%85%8D%E7%BD%AE(%E8%BD%AC)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ruiyeclub">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/01/04/%E5%BC%80%E5%8F%91%E5%BF%85%E5%A4%87%E8%BD%AF%E4%BB%B6-Typora%E9%85%8D%E5%90%88PicGo%E9%98%BF%E9%87%8C%E4%BA%91%E5%9B%BE%E5%BA%8A%E9%85%8D%E7%BD%AE(%E8%BD%AC)/" itemprop="url">å¼€å‘å¿…å¤‡è½¯ä»¶-Typoraé…åˆPicGoé˜¿é‡Œäº‘å›¾åºŠé…ç½®(è½¬)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-01-04T11:20:40+08:00">
                2024-01-04
              </time>
            
          </span>

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>å†™åšå®¢çš„æ—¶å€™ï¼Œåˆšå¼€å§‹ç›´æ¥åœ¨å„å¤§å¹³å°ä¸Šç›´æ¥å†™ï¼Œåæ¥è¿˜æ˜¯è§‰å¾—ä¸å¤ªæ–¹ä¾¿ï¼Œéœ€è¦åœ¨å„å¤§å¹³å°ä¹‹é—´æ¥å›åˆ‡æ¢ã€‚äºæ˜¯å°±æ”¹ç”¨Typoraï¼Œä½†æ˜¯æœ‰ä¸ªé—®é¢˜å°±æ˜¯å›¾ç‰‡çš„å¤„ç†ï¼Œåªèƒ½æ”¾åœ¨æœ¬åœ°ã€‚æƒ³è¦å‘å¸ƒåˆ°å„å¤§å¹³å°ï¼Œå°±éœ€è¦å›¾åºŠã€‚æœ¬æ–‡ç»“åˆé˜¿é‡Œäº‘OSSã€PicGoå›¾åºŠé…ç½®ã€Typoraé…ç½®ï¼Œèƒ½å¤Ÿåšåˆ°ä¸€æ¬¡æ–‡ç« ç¼–å†™ï¼Œå„å¤§å¹³å°ç»Ÿä¸€è¾“å‡ºã€‚</p>
</blockquote>
<h2 id="é˜¿é‡Œäº‘é…ç½®"><a href="#é˜¿é‡Œäº‘é…ç½®" class="headerlink" title="é˜¿é‡Œäº‘é…ç½®"></a>é˜¿é‡Œäº‘é…ç½®</h2><h3 id="åˆ›å»ºå¯¹è±¡å­˜å‚¨Bucket"><a href="#åˆ›å»ºå¯¹è±¡å­˜å‚¨Bucket" class="headerlink" title="åˆ›å»ºå¯¹è±¡å­˜å‚¨Bucket"></a><strong>åˆ›å»ºå¯¹è±¡å­˜å‚¨Bucket</strong></h3><p>ç™»å½•é˜¿é‡Œäº‘åï¼Œé€‰æ‹©å¯¹è±¡å­˜å‚¨</p>
<p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/picgo/4b40339b-f3ee-415a-8348-1a371e5c4b6d.png" alt="image-20221222125850693"></p>
<p>æ–°äººå¼€é€šè¯•ç”¨3ä¸ªæœˆå…è´¹</p>
<p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/picgo/14da8647-0f63-43ae-bcfa-69b5829db289.png" alt="image-20221222130109938"></p>
<p>å¼€é€šåï¼Œè¿›å…¥ç®¡ç†æ§åˆ¶å°</p>
<p>ç‚¹å‡»Bucketåˆ—è¡¨ï¼Œåˆ›å»ºBucket</p>
<p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/picgo/dc718170-d70f-458c-918b-67d2c495739e.png" alt="image-20221222130233633"></p>
<p>è®¿é—®æ§åˆ¶å¼€å¯å…¬å…±è¯»</p>
<p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/picgo/5154a85d-5292-49b2-bd4d-035cd8fadc36.png" alt="image-20221222130527365"></p>
<h3 id="è®¿é—®æ§åˆ¶RAMé…ç½®"><a href="#è®¿é—®æ§åˆ¶RAMé…ç½®" class="headerlink" title="è®¿é—®æ§åˆ¶RAMé…ç½®"></a><strong>è®¿é—®æ§åˆ¶RAMé…ç½®</strong></h3><p>ç‚¹å‡»å³ä¸Šè§’AccessKeyç®¡ç†</p>
<p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/picgo/10ecacba-67dd-4bd0-b2b0-05d6bd2c8280.png" alt="image-20221222134259058"></p>
<p><strong>åˆ›å»ºAccessKeyï¼Œæ³¨æ„è¿™é‡Œçš„AccessKey ID å’Œ AccessKey Secretä¿å­˜ä¸‹æ¥ï¼Œåé¢è¦ç”¨åˆ°</strong></p>
<p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/picgo/46ad3a39-cd1b-49b9-9d72-d4dc2e43730f.png" alt="image-20221222134507363"></p>
<h2 id="PicGoä¸‹è½½å®‰è£…"><a href="#PicGoä¸‹è½½å®‰è£…" class="headerlink" title="PicGoä¸‹è½½å®‰è£…"></a>PicGoä¸‹è½½å®‰è£…</h2><p>ä¸‹è½½åœ°å€</p>
<p><a target="_blank" rel="noopener" href="https://picgo.github.io/PicGo-Doc/zh/guide/#%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85">https://picgo.github.io/PicGo-Doc/zh/guide/#%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85</a></p>
<p>å¯ä»¥é€‰æ‹©å±±ä¸œå¤§å­¦çš„é•œåƒç«™</p>
<p><a target="_blank" rel="noopener" href="https://mirrors.sdu.edu.cn/github-release/Molunerfinn_PicGo">https://mirrors.sdu.edu.cn/github-release/Molunerfinn_PicGo</a></p>
<p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/picgo/9bc5c527-4845-4ba7-b575-f6ac1c57ea3d.png" alt="image-20221222133605621"></p>
<h3 id="PicGoé…ç½®"><a href="#PicGoé…ç½®" class="headerlink" title="PicGoé…ç½®"></a><strong>PicGoé…ç½®</strong></h3><ul>
<li>KeyId ã€KeySecret å°±æ˜¯ä¸Šé¢é˜¿é‡Œäº‘çš„AccessKey ID å’Œ AccessKey Secret</li>
<li>Bucket å°±æ˜¯é˜¿é‡Œäº‘çš„bucketåç§°</li>
</ul>
<p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/picgo/326fb8c6-44a6-491b-96e8-c58bc4c08282.png" alt="image-20221222134810396"></p>
<ul>
<li>å­˜å‚¨åŒºåŸŸï¼Œå¯¹åº”é˜¿é‡Œäº‘Endpointçš„å‰é¢ï¼Œæˆ‘è¿™é‡Œæ˜¯oss-cn-hangzhou</li>
<li>å­˜å‚¨è·¯å¾„ï¼Œè‡ªå·±éšä¾¿å®šä¹‰ä¸€ä¸ªï¼Œæ¯”å¦‚ img&#x2F;</li>
<li>è‡ªå®šä¹‰åŸŸåï¼Œå¯¹åº”é˜¿é‡Œäº‘ BucketåŸŸå</li>
</ul>
<p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/picgo/6cf44a45-802d-4553-a499-c43726a92782.png" alt="image-20221222135020880"></p>
<h2 id="Typoraä¸‹è½½åŠé…ç½®"><a href="#Typoraä¸‹è½½åŠé…ç½®" class="headerlink" title="Typoraä¸‹è½½åŠé…ç½®"></a>Typoraä¸‹è½½åŠé…ç½®</h2><p>Typoraç›®å‰æ”¶è´¹ï¼Œæƒ³è¦å…è´¹å¯ä½¿ç”¨ï¼Œå¯å‚è€ƒç¬”è€…çš„è¿™ä¸ªä¸‹è½½åœ°å€</p>
<blockquote>
<p>é“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1bCxmIPk23R0B9SVCqY37wg?pwd=F93i">https://pan.baidu.com/s/1bCxmIPk23R0B9SVCqY37wg?pwd=F93i</a> æå–ç ï¼šF93i</p>
</blockquote>
<h3 id="è®¾ç½®"><a href="#è®¾ç½®" class="headerlink" title="è®¾ç½®"></a><strong>è®¾ç½®</strong></h3><p>æ‰¾åˆ°è®¾ç½®ï¼Œç‚¹å‡»å›¾åƒè®¾ç½®</p>
<p>ä¸Šä¼ å›¾ç‰‡çš„æœåŠ¡ï¼Œé€‰æ‹©PicGo.app</p>
<p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/picgo/18f35e1f-8a91-4200-a71d-91b6d8f65ec9.png" alt="image-20221222135334696"></p>
<p><strong>æ³¨æ„ï¼šPicGo.appéœ€è¦å¡«å†™è¾“å…¥æ­£ç¡®çš„å®‰è£…è·¯å¾„ï¼Œå¡«å†™åå¯é€šè¿‡æ—è¾¹çš„éªŒè¯åŠŸèƒ½æŸ¥çœ‹æ˜¯å¦å¡«å†™æˆåŠŸ</strong></p>
<h3 id="å®é™…æ•ˆæœ"><a href="#å®é™…æ•ˆæœ" class="headerlink" title="å®é™…æ•ˆæœ"></a><strong>å®é™…æ•ˆæœ</strong></h3><ul>
<li>æˆªå›¾è½¯ä»¶ï¼Œç²˜è´´æ•ˆæœï¼Œtyporaç›´æ¥è½¬æ¢æˆäº†é˜¿é‡Œäº‘OSSçš„åœ°å€<img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/picgo/53d7a28b-96f3-4ba5-8fbc-e47b5bddae99.png" alt="image-20221222140236233"></li>
<li>å¤–ç«™ç²˜è´´è¿‡æ¥çš„ä¹Ÿæ˜¯åŒæ ·æ•ˆæœ</li>
</ul>

          
        
      
    </div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>

  <hr/>

    
      

  

  
  
  
  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://ruiyeclub.cn/2023/12/28/Node-js%E6%A8%A1%E5%9D%97%E5%8C%96%E9%80%89%E6%8B%A9Commonjs%E5%92%8CES6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ruiyeclub">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/12/28/Node-js%E6%A8%A1%E5%9D%97%E5%8C%96%E9%80%89%E6%8B%A9Commonjs%E5%92%8CES6/" itemprop="url">Node.jsæ¨¡å—åŒ–é€‰æ‹©Commonjså’ŒES6</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-12-28T18:03:40+08:00">
                2023-12-28
              </time>
            
          </span>

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>Node.js ä½¿ç”¨çš„æ¨¡å—ç³»ç»Ÿæ˜¯åŸºäº CommonJS çš„ï¼Œä½†éšç€æ—¶é—´çš„æ¨ç§»ï¼ŒES6 æ¨¡å—ä¹Ÿå¾—åˆ°äº†è¶Šæ¥è¶Šå¤šçš„æ”¯æŒã€‚ä»¥ä¸‹æ˜¯å…³äº CommonJS å’Œ ES6 æ¨¡å—çš„ç®€è¦æ¦‚è¿°ï¼š</p>
</blockquote>
<p>1.<strong>CommonJS</strong>ï¼š</p>
<ul>
<li>æœ€åˆä¸º Node.js è®¾è®¡ï¼Œæ‰€ä»¥åˆç§° Node.js æ¨¡å—ç³»ç»Ÿã€‚</li>
<li>ä½¿ç”¨ <code>require()</code> å‡½æ•°æ¥å¯¼å…¥æ¨¡å—ï¼Œä½¿ç”¨ <code>module.exports</code> æˆ– <code>exports</code> å¯¹è±¡æ¥å¯¼å‡ºæ¨¡å—ã€‚</li>
</ul>
<p>2.<strong>ES6 æ¨¡å—</strong>ï¼š</p>
<ul>
<li>æ˜¯ ECMAScript 6 (ES2015) ä¸­å¼•å…¥çš„æ–°æ¨¡å—ç³»ç»Ÿã€‚</li>
<li>ä½¿ç”¨ <code>import</code> è¯­å¥æ¥å¯¼å…¥æ¨¡å—ï¼Œä½¿ç”¨ <code>export</code> è¯­å¥æ¥å¯¼å‡ºæ¨¡å—ã€‚</li>
<li>æœ‰é™æ€å’ŒåŠ¨æ€ä¸¤ç§å¯¼å…¥æ–¹å¼ï¼Œæä¾›æ›´å¼ºçš„ç±»å‹æ£€æŸ¥å’Œä»£ç ç¼–è¯‘æ—¶ä¼˜åŒ–ã€‚</li>
</ul>
<blockquote>
<p>è¯·æ³¨æ„ï¼Œéšç€Node.jsçš„å‘å±•ï¼Œè®¸å¤šåº“å·²ç»è¿ç§»åˆ°ESæ¨¡å—ï¼Œå› æ­¤ç¡®ä¿ä½ ä½¿ç”¨çš„åº“ä¸ä½ å½“å‰çš„Node.jsç‰ˆæœ¬å…¼å®¹æ˜¯å¾ˆé‡è¦çš„ã€‚</p>
</blockquote>
<h3 id="ä¸€ã€æ­å»ºES6æ¨¡å—ç³»ç»Ÿ"><a href="#ä¸€ã€æ­å»ºES6æ¨¡å—ç³»ç»Ÿ" class="headerlink" title="ä¸€ã€æ­å»ºES6æ¨¡å—ç³»ç»Ÿ"></a>ä¸€ã€æ­å»ºES6æ¨¡å—ç³»ç»Ÿ</h3><p>1.æŠŠéœ€è¦æ›´æ¢çš„<code>require</code>å…¨éƒ¨æ¢æˆ<code>import</code></p>
<p>2.åœ¨srcä¸‹åˆ›å»ºä¸€ä¸ª.babelrcæ–‡ä»¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;presets&quot;</span>:[<span class="string">&quot;es2015&quot;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.åœ¨package.jsonä¸­çš„ä¸€æ®µåŠ ä¸Š<code>--exec babel-node</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;api&quot;</span>,</span><br><span class="line">  <span class="string">&quot;version&quot;</span>: <span class="string">&quot;1.0.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;description&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="string">&quot;type&quot;</span>: <span class="string">&quot;module&quot;</span>, <span class="comment">// æ·»åŠ typeç±»å‹</span></span><br><span class="line">  <span class="string">&quot;main&quot;</span>: <span class="string">&quot;index.js&quot;</span>,</span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;dev&quot;</span>: <span class="string">&quot;nodemon ./src/main.js --exec babel-node&quot;</span>,</span><br><span class="line">    <span class="string">&quot;test&quot;</span>: <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1 --exec babel-node&quot;</span></span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<p>4.å®‰è£…æ’ä»¶ <code>npm install babel-preset-es2015</code></p>
<h3 id="äºŒã€å…³äºä¸¤è€…çš„å¼•ç”¨åŒºåˆ«"><a href="#äºŒã€å…³äºä¸¤è€…çš„å¼•ç”¨åŒºåˆ«" class="headerlink" title="äºŒã€å…³äºä¸¤è€…çš„å¼•ç”¨åŒºåˆ«"></a>äºŒã€å…³äºä¸¤è€…çš„å¼•ç”¨åŒºåˆ«</h3><p>1.Commonjsï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// moduleA.js  </span></span><br><span class="line"><span class="keyword">const</span> message = <span class="string">&#x27;Hello from CommonJS&#x27;</span>;  </span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = message;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js  </span></span><br><span class="line"><span class="keyword">const</span> moduleA = <span class="built_in">require</span>(<span class="string">&#x27;./moduleA&#x27;</span>);  </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(moduleA); <span class="comment">// è¾“å‡º &#x27;Hello from CommonJS&#x27;</span></span><br></pre></td></tr></table></figure>

<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒCommonJS çš„ <code>require</code> å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„å±æ€§å¯¹åº”äºæ¨¡å—å¯¼å‡ºçš„å†…å®¹ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>moduleA</code> æ˜¯ä¸€ä¸ªåŒ…å« <code>message</code> å±æ€§çš„å¯¹è±¡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>moduleA.message</code> æ¥è®¿é—®å¯¼å‡ºçš„å†…å®¹ã€‚</strong></p>
<p>2.ES6ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// moduleA.js  </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> message = <span class="string">&#x27;Hello from ES6&#x27;</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js  </span></span><br><span class="line"><span class="keyword">import</span> &#123; message &#125; <span class="keyword">from</span> <span class="string">&#x27;./moduleA&#x27;</span>;  </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(message); <span class="comment">// è¾“å‡º &#x27;Hello from ES6&#x27;</span></span><br></pre></td></tr></table></figure>

<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒES6 çš„ <code>import</code> è¯­å¥è¿”å›çš„æ˜¯å¯¼å‡ºçš„å†…å®¹æœ¬èº«ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨å¯¼å…¥çš„å†…å®¹ï¼Œè€Œä¸éœ€è¦é€šè¿‡å±æ€§æ¥è®¿é—®ã€‚</strong></p>

          
        
      
    </div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>

  <hr/>

    
      

  

  
  
  
  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://ruiyeclub.cn/2023/12/21/Linux%E7%8E%AF%E5%A2%83%E4%B8%8B%E9%83%A8%E7%BD%B2node-js%E9%A1%B9%E7%9B%AE%E5%B9%B6%E4%BD%BF%E7%94%A8pm2%E5%AF%B9%E9%A1%B9%E7%9B%AE%E8%BF%9B%E8%A1%8C%E7%AE%A1%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ruiyeclub">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/12/21/Linux%E7%8E%AF%E5%A2%83%E4%B8%8B%E9%83%A8%E7%BD%B2node-js%E9%A1%B9%E7%9B%AE%E5%B9%B6%E4%BD%BF%E7%94%A8pm2%E5%AF%B9%E9%A1%B9%E7%9B%AE%E8%BF%9B%E8%A1%8C%E7%AE%A1%E7%90%86/" itemprop="url">Linuxç¯å¢ƒä¸‹éƒ¨ç½²node.jsé¡¹ç›®å¹¶ä½¿ç”¨pm2å¯¹é¡¹ç›®è¿›è¡Œç®¡ç†</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-12-21T11:43:52+08:00">
                2023-12-21
              </time>
            
          </span>

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>node.jsæ˜¯è®©JavaScriptèƒ½è¿è¡Œåœ¨æœåŠ¡ç«¯çš„å¼€å‘å¹³å°ï¼Œpm2æ˜¯ä¸€ä¸ªNode.js å®ˆæŠ¤è¿›ç¨‹ç®¡ç†å™¨ï¼Œå¯ä»¥ç”¨äºç®¡ç†å’Œç›‘æ§Node.js åº”ç”¨ç¨‹åºã€‚</p>
</blockquote>
<h2 id="ä¸€ã€å®‰è£…nodeç¯å¢ƒ"><a href="#ä¸€ã€å®‰è£…nodeç¯å¢ƒ" class="headerlink" title="ä¸€ã€å®‰è£…nodeç¯å¢ƒ"></a>ä¸€ã€å®‰è£…nodeç¯å¢ƒ</h2><h3 id="1-å¯é€šè¿‡ç½‘ç«™ä¸‹è½½ï¼Œè¿›å…¥Nodeæœ€æ–°ç‰ˆä¸‹è½½"><a href="#1-å¯é€šè¿‡ç½‘ç«™ä¸‹è½½ï¼Œè¿›å…¥Nodeæœ€æ–°ç‰ˆä¸‹è½½" class="headerlink" title="1.å¯é€šè¿‡ç½‘ç«™ä¸‹è½½ï¼Œè¿›å…¥Nodeæœ€æ–°ç‰ˆä¸‹è½½ &lt;https://nodejs.org/en/download/current/"></a>1.å¯é€šè¿‡ç½‘ç«™ä¸‹è½½ï¼Œè¿›å…¥Nodeæœ€æ–°ç‰ˆä¸‹è½½ &lt;<a href="https://cloud.tencent.com/developer/tools/blog-entry?target=https://nodejs.org/en/download/current/&source=article&objectId=1772306">https://nodejs.org/en/download/current/</a></h3><ul>
<li><p>é€šè¿‡wgetæŒ‡ä»¤ä¸‹è½½ï¼š<code>wget https://nodejs.org/dist/v13.11.0/node-v13.11.0-linux-x64.tar.xz</code></p>
</li>
<li><p>è§£å‹ï¼š<code>tar -xvf node-v13.11.0-linux-x64.tar.xz</code></p>
</li>
<li><p>æµ‹è¯•å®‰è£…æ˜¯å¦æˆåŠŸï¼š<code>cd node-v13.11.0-linux-x64/bin</code>ï¼Œæ‰§è¡Œï¼š<code>./node -v</code></p>
</li>
</ul>
<h3 id="2-æ·»åŠ nodeå’Œnpmè½¯é“¾å»ºç«‹é“¾æ¥ï¼ˆPS-lnå‘½ä»¤æ˜¯ä¸€ä¸ªéå¸¸é‡è¦å‘½ä»¤ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ä¸ºæŸä¸€ä¸ªæ–‡ä»¶åœ¨å¦å¤–ä¸€ä¸ªä½ç½®å»ºç«‹ä¸€ä¸ªåŒæ­¥çš„é“¾æ¥ï¼‰ï¼š"><a href="#2-æ·»åŠ nodeå’Œnpmè½¯é“¾å»ºç«‹é“¾æ¥ï¼ˆPS-lnå‘½ä»¤æ˜¯ä¸€ä¸ªéå¸¸é‡è¦å‘½ä»¤ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ä¸ºæŸä¸€ä¸ªæ–‡ä»¶åœ¨å¦å¤–ä¸€ä¸ªä½ç½®å»ºç«‹ä¸€ä¸ªåŒæ­¥çš„é“¾æ¥ï¼‰ï¼š" class="headerlink" title="2.æ·»åŠ nodeå’Œnpmè½¯é“¾å»ºç«‹é“¾æ¥ï¼ˆPS:lnå‘½ä»¤æ˜¯ä¸€ä¸ªéå¸¸é‡è¦å‘½ä»¤ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ä¸ºæŸä¸€ä¸ªæ–‡ä»¶åœ¨å¦å¤–ä¸€ä¸ªä½ç½®å»ºç«‹ä¸€ä¸ªåŒæ­¥çš„é“¾æ¥ï¼‰ï¼š"></a>2.æ·»åŠ nodeå’Œnpmè½¯é“¾å»ºç«‹é“¾æ¥ï¼ˆ<strong>PS:lnå‘½ä»¤æ˜¯ä¸€ä¸ªéå¸¸é‡è¦å‘½ä»¤ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ä¸ºæŸä¸€ä¸ªæ–‡ä»¶åœ¨å¦å¤–ä¸€ä¸ªä½ç½®å»ºç«‹ä¸€ä¸ªåŒæ­¥çš„é“¾æ¥</strong>ï¼‰ï¼š</h3><ul>
<li><code>ln -s /www/node-v13.11.0-linux-x64/bin/node /usr/local/bin/node</code></li>
<li><code>ln -s /www/node-v13.11.0-linux-x64/bin/npm /usr/local/bin/npm</code></li>
</ul>
<h3 id="2-1æˆ–è€…æ˜¯é€šè¿‡æ”¹å˜nodeåŒ…çš„å­˜æ”¾ä½ç½®è¿›è¡Œæ“ä½œï¼šmv-node-v13-11-0-linux-x64-usr-local-node"><a href="#2-1æˆ–è€…æ˜¯é€šè¿‡æ”¹å˜nodeåŒ…çš„å­˜æ”¾ä½ç½®è¿›è¡Œæ“ä½œï¼šmv-node-v13-11-0-linux-x64-usr-local-node" class="headerlink" title="2.1æˆ–è€…æ˜¯é€šè¿‡æ”¹å˜nodeåŒ…çš„å­˜æ”¾ä½ç½®è¿›è¡Œæ“ä½œï¼šmv node-v13.11.0-linux-x64 /usr/local/node"></a>2.1æˆ–è€…æ˜¯é€šè¿‡æ”¹å˜nodeåŒ…çš„å­˜æ”¾ä½ç½®è¿›è¡Œæ“ä½œï¼š<code>mv node-v13.11.0-linux-x64 /usr/local/node</code></h3><p>å†ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br><span class="line"></span><br><span class="line">æŒ‰ä½ié”®ï¼Œè¿›å…¥ç¼–è¾‘æ¨¡å¼</span><br><span class="line"></span><br><span class="line">æ’å…¥ï¼šexport PATH=$PATH:/usr/local/node/bin</span><br><span class="line"></span><br><span class="line">æŒ‰esc,è¾“å…¥:wqï¼Œé€€å‡ºvimç¼–è¾‘å™¨æ¨¡å¼</span><br></pre></td></tr></table></figure>



<h3 id="3-ä½¿ç”¨æµ‹è¯•å‘½ä»¤ï¼šnode-vå’Œnpm-v"><a href="#3-ä½¿ç”¨æµ‹è¯•å‘½ä»¤ï¼šnode-vå’Œnpm-v" class="headerlink" title="3.ä½¿ç”¨æµ‹è¯•å‘½ä»¤ï¼šnode -vå’Œnpm -v"></a>3.ä½¿ç”¨æµ‹è¯•å‘½ä»¤ï¼š<code>node -v</code>å’Œ<code>npm -v</code></h3><h3 id="4-åŠ é€Ÿnpm"><a href="#4-åŠ é€Ÿnpm" class="headerlink" title="4.åŠ é€Ÿnpm"></a>4.åŠ é€Ÿnpm</h3><ul>
<li>ä½¿ç”¨æ·˜å®çš„cnpmï¼š<code>npm install cnpm -g --registry=https://registry.npm.taobao.org</code></li>
<li>åŠ cnpmè½¯é“¾ï¼š<code>ln -s /www/node-v13.11.0-linux-x64/bin/cnpm /usr/local/bin/cnpm</code></li>
<li>éœ€è¦æ³¨æ„ï¼Œä»¥åä½¿ç”¨cnpmå»ä»£æ›¿npmæ¥æ‰§è¡Œï¼Œæ¯”å¦‚ï¼š<code>cnpm install XXX</code></li>
</ul>
<h2 id="äºŒã€å®‰è£…å¹¶ä½¿ç”¨pm2"><a href="#äºŒã€å®‰è£…å¹¶ä½¿ç”¨pm2" class="headerlink" title="äºŒã€å®‰è£…å¹¶ä½¿ç”¨pm2"></a>äºŒã€å®‰è£…å¹¶ä½¿ç”¨pm2</h2><blockquote>
<p>PM2 æ˜¯ä¸€ä¸ªæµè¡Œçš„è¿›ç¨‹ç®¡ç†å™¨ï¼Œæ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒä¸­åå°è¿è¡Œ nodejs çš„é¦–é€‰ã€‚å®ƒæä¾›äº†å¾ˆå¤šçš„åŠŸèƒ½å’Œé€‰é¡¹ï¼ŒåŒ…æ‹¬è¿›ç¨‹ç›‘æ§ã€è‡ªåŠ¨é‡å¯ã€è´Ÿè½½å¹³è¡¡ç­‰ç­‰ã€‚ä½¿ç”¨ PM2 åï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°å°† nodejs åº”ç”¨ç¨‹åºåå°è¿è¡Œã€‚</p>
</blockquote>
<h3 id="1-å®‰è£…pm2ï¼šnpm-install-g-pm2"><a href="#1-å®‰è£…pm2ï¼šnpm-install-g-pm2" class="headerlink" title="1.å®‰è£…pm2ï¼šnpm install -g pm2"></a>1.å®‰è£…pm2ï¼š<code>npm install -g pm2</code></h3><h3 id="2-æ·»åŠ pm2è½¯é“¾ï¼šln-s-www-node-v13-11-0-linux-x64-lib-node-modules-pm2-bin-pm2-usr-local-bin"><a href="#2-æ·»åŠ pm2è½¯é“¾ï¼šln-s-www-node-v13-11-0-linux-x64-lib-node-modules-pm2-bin-pm2-usr-local-bin" class="headerlink" title="2.æ·»åŠ pm2è½¯é“¾ï¼šln -s /www/node-v13.11.0-linux-x64/lib/node_modules/pm2/bin/pm2 /usr/local/bin/"></a>2.æ·»åŠ pm2è½¯é“¾ï¼š<code>ln -s /www/node-v13.11.0-linux-x64/lib/node_modules/pm2/bin/pm2 /usr/local/bin/</code></h3><h3 id="3-pm2å¸¸ç”¨å‘½ä»¤ï¼š"><a href="#3-pm2å¸¸ç”¨å‘½ä»¤ï¼š" class="headerlink" title="3.pm2å¸¸ç”¨å‘½ä»¤ï¼š"></a>3.pm2å¸¸ç”¨å‘½ä»¤ï¼š</h3><ul>
<li><p>å¯åŠ¨æŒ‡å®šåº”ç”¨ï¼š<code>pm2 start &lt;script_file|config_file&gt; [options]</code> ï¼Œå¦‚ï¼š<code>pm2 start index.js --name httpServer</code></p>
</li>
<li><p>åœæ­¢æŒ‡å®šåº”ç”¨ï¼š<code>pm2 stop &lt;appName&gt; [options]</code>ï¼Œå¦‚ï¼š<code>pm2 stop httpServer</code></p>
</li>
<li><p>æŸ¥çœ‹å…¨éƒ¨å®ä¾‹ï¼š<code>pm2 list</code> ï¼Œæ³¨æ„ï¼špm2 stop æŸä¸ªé¡¹ç›®åï¼Œè¯¥é¡¹ç›®è¿˜ä¼šå­˜åœ¨pm2 list çš„åˆ—è¡¨é‡Œé¢ï¼Œ åªæ˜¯çŠ¶æ€æ˜¯ stop, è¦æƒ³å»æ‰è¯¥é¡¹ç›®ï¼Œç”¨pm2 delete</p>
</li>
<li><p>é‡å¯æŒ‡å®šåº”ç”¨ï¼š<code>pm2 reload|restart &lt;appName&gt; [options]</code>ï¼Œå¦‚ï¼š<code>pm2 restart httpServer</code></p>
</li>
<li><p>æ˜¾ç¤ºæŒ‡å®šåº”ç”¨è¯¦æƒ…ï¼š<code>pm2 show &lt;appName&gt; [options]</code>ï¼Œå¦‚ï¼š<code>pm2 show httpServer</code></p>
</li>
<li><p>åˆ é™¤æŒ‡å®šåº”ç”¨ï¼š<code>pm2 delete &lt;appName&gt; [options]</code>ï¼Œå¦‚ï¼š<code>pm2 delete httpServer</code>ï¼Œå¦‚æœä¿®æ”¹åº”ç”¨é…ç½®è¡Œä¸ºï¼Œæœ€å¥½å…ˆåˆ é™¤åº”ç”¨åï¼Œé‡æ–°å¯åŠ¨æ–¹æ‰ç”Ÿæ•ˆï¼Œå¦‚ä¿®æ”¹è„šæœ¬å…¥å£æ–‡ä»¶</p>
</li>
<li><p>æ€æ‰pm2ç®¡ç†çš„æ‰€æœ‰è¿›ç¨‹ï¼š<code>pm2 kill</code> </p>
</li>
<li><p>åˆ é™¤pm2æ—¥å¿—ï¼š<code>pm2 flush</code></p>
</li>
<li><p>æŸ¥çœ‹æŒ‡å®šåº”ç”¨çš„æ—¥å¿—ï¼Œå³æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯<code>pm2 logs &lt;appName&gt;</code></p>
</li>
<li><p>ç›‘æ§å„ä¸ªåº”ç”¨è¿›ç¨‹cpuå’Œmemoryä½¿ç”¨æƒ…å†µ<code>pm2 monit</code></p>
</li>
<li><p>å¦‚æœé¡¹ç›®æ²¡æœ‰å¯åŠ¨å°±æ‰§è¡Œ start å¦‚æœé¡¹ç›®æ­£åœ¨è¿è¡Œ å°±æ‰§è¡Œrelaod<code>pm2 startOrReload &lt;appName&gt;</code></p>
</li>
</ul>
<h2 id="ä¸‰ã€è¸©å‘è®°å½•"><a href="#ä¸‰ã€è¸©å‘è®°å½•" class="headerlink" title="ä¸‰ã€è¸©å‘è®°å½•"></a>ä¸‰ã€è¸©å‘è®°å½•</h2><ol>
<li>2024-1-3ï¼šè¯•å›¾åœ¨æœåŠ¡å™¨ä¸Šé¢å®‰è£…node.js18ï¼ŒæŸ¥çœ‹nodeç‰ˆæœ¬çš„æ—¶å€™å‘ç”ŸæŠ¥é”™ï¼š</li>
</ol>
<p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/picgo/image-20240103185224803.png" alt="image-20240103185224803"></p>
<p>æœç´¢èµ„æ–™å‘ç°æ˜¯å½“å‰ç³»ç»Ÿç‰ˆæœ¬ä¸æ”¯æŒé«˜ç‰ˆæœ¬çš„node.jsï¼ŒæŸ¥çœ‹å½“å‰ç³»ç»Ÿç‰ˆæœ¬ï¼š</p>
<p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/picgo/image-20240103185613533.png" alt="image-20240103185613533"></p>
<p><strong>è§£å†³åŠæ³•é™çº§åˆ°node.js16â€¦</strong></p>
<p><strong>å‚è€ƒæ–‡ç« ï¼š</strong><a target="_blank" rel="noopener" href="https://juejin.cn/post/7163899309425950751">https://juejin.cn/post/7163899309425950751</a></p>
<ol start="2">
<li>2024-10-18ï¼šåœ¨æœåŠ¡å™¨è¿è¡Œpm2 start index.jså‘½ä»¤æŠ¥é”™</li>
</ol>
<p>é¡¹ç›®åœ¨scriptsé…ç½®è¿è¡Œç¯å¢ƒï¼Œæ— æ³•ç›´æ¥é€šè¿‡è¿è¡Œjsæ–‡ä»¶å¯åŠ¨æœåŠ¡ã€‚</p>
<p>å¯é€šè¿‡pm2å¯åŠ¨ä½ çš„npmè„šæœ¬</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 start npm --name &quot;ä½ çš„åº”ç”¨å&quot; -- run start</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨pm2å¯åŠ¨pythonè„šæœ¬</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 start python3 --name &quot;ä½ çš„åº”ç”¨å&quot; -- main.py</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„â€“nameå‚æ•°æ˜¯ç»™ä½ çš„åº”ç”¨è®¾ç½®ä¸€ä¸ªåå­—ï¼Œâ€“ run startæ˜¯å‘Šè¯‰pm2è¿è¡Œpackage.jsonä¸­å®šä¹‰çš„startè„šæœ¬ã€‚</p>
<p>å¦‚æœä½ çš„npmè„šæœ¬æ˜¯ç”¨æ¥å¯åŠ¨ä¸€ä¸ªæœåŠ¡å™¨ï¼Œé‚£ä¹ˆâ€“nameå‚æ•°éå¸¸æœ‰ç”¨ï¼Œè¿™æ ·ä½ å¯ä»¥éšæ—¶æŸ¥çœ‹æœåŠ¡çŠ¶æ€æˆ–è€…é‡å¯æœåŠ¡ã€‚</p>

          
        
      
    </div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>

  <hr/>

    
      

  

  
  
  
  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://ruiyeclub.cn/2022/07/27/Idea%E5%BC%80%E5%8F%91%E5%BF%85%E8%A3%85%E6%8F%92%E4%BB%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ruiyeclub">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/07/27/Idea%E5%BC%80%E5%8F%91%E5%BF%85%E8%A3%85%E6%8F%92%E4%BB%B6/" itemprop="url">Ideaå¼€å‘å¿…è£…æ’ä»¶</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-07-27T15:24:24+08:00">
                2022-07-27
              </time>
            
          </span>

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>ï¼‚å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼‚ï¼Œåˆ†äº«ä¸€ä¸‹æˆ‘å·¥ä½œä¸­å¿…å¤‡çš„Ideaå¼€å‘æ’ä»¶</p>
</blockquote>
<h3 id="1-Alibaba-Java-Coding-Guidelines"><a href="#1-Alibaba-Java-Coding-Guidelines" class="headerlink" title="1.Alibaba Java Coding Guidelines"></a>1.Alibaba Java Coding Guidelines</h3><blockquote>
<p>æˆ‘ä»¬å¾ˆé«˜å…´æ¨å‡ºé˜¿é‡Œå·´å·´ Java ç¼–ç æŒ‡å—ï¼Œå®ƒæ•´åˆäº†é˜¿é‡Œå·´å·´é›†å›¢æŠ€æœ¯å›¢é˜Ÿå¤šå¹´æ¥çš„æœ€ä½³ç¼–ç¨‹å®è·µã€‚å¤§é‡çš„ Java ç¼–ç¨‹å›¢é˜Ÿå¯¹è·¨é¡¹ç›®çš„ä»£ç è´¨é‡æå‡ºäº†è‹›åˆ»çš„è¦æ±‚ï¼Œå› ä¸ºæˆ‘ä»¬é¼“åŠ±é‡ç”¨å’Œæ›´å¥½åœ°ç†è§£å½¼æ­¤çš„ç¨‹åºã€‚è¿‡å»æˆ‘ä»¬è§è¿‡å¾ˆå¤šç¼–ç¨‹é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œæœ‰ç¼ºé™·çš„æ•°æ®åº“è¡¨ç»“æ„å’Œç´¢å¼•è®¾è®¡å¯èƒ½ä¼šå¯¼è‡´è½¯ä»¶æ¶æ„ç¼ºé™·å’Œæ€§èƒ½é£é™©ã€‚å¦ä¸€ä¸ªä¾‹å­æ˜¯éš¾ä»¥ç»´æŠ¤çš„æ··ä¹±ä»£ç ç»“æ„ã€‚æ­¤å¤–ï¼Œæœªç»èº«ä»½éªŒè¯çš„æ˜“å—æ”»å‡»çš„ä»£ç å¾ˆå®¹æ˜“å—åˆ°é»‘å®¢çš„æ”»å‡»ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬ä¸ºé˜¿é‡Œå·´å·´çš„ Java å¼€å‘äººå‘˜ç¼–å†™äº†è¿™ä»½æ–‡æ¡£ã€‚</p>
</blockquote>
<p>é˜¿é‡Œå·´å·´ä»£ç è§„èŒƒæ£€æŸ¥æ’ä»¶ï¼Œæœ‰åŠ©äºæˆ‘ä»¬çš„ä»£ç æ›´åŠ è§„èŒƒã€‚</p>
<h3 id="2-ignore"><a href="#2-ignore" class="headerlink" title="2.ignore"></a>2.ignore</h3><p>å¿½ç•¥Gitä¸å¿…è¦æäº¤çš„æ–‡ä»¶</p>
<h3 id="3-Codota-Ai"><a href="#3-Codota-Ai" class="headerlink" title="3.Codota Ai"></a>3.Codota Ai</h3><p>é€‚ç”¨äºJavaå’ŒJavaScriptçš„Codota AIè‡ªåŠ¨è¡¥å…¨ä»£ç æ’ä»¶</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.codota.com/">Codota</a>åŸºäºæ•°ç™¾ä¸‡ä¸ªå¼€æº Java ç¨‹åºå’Œæ‚¨çš„ä¸Šä¸‹æ–‡å®Œæˆä»£ç è¡Œï¼Œå¸®åŠ©æ‚¨æ›´å¿«åœ°ç¼–å†™ä»£ç å¹¶å‡å°‘é”™è¯¯ã€‚æ–°ç‰ˆ Codota æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
</blockquote>
<ul>
<li>å…¨çº¿AIè‡ªåŠ¨å®Œæˆ</li>
<li>è¡Œå†…å’Œç›¸å…³çš„ä»£ç ç¤ºä¾‹</li>
<li>åŸºäºæ‚¨è‡ªå·±çš„ç¼–ç å®è·µçš„ä»£ç å»ºè®®</li>
</ul>
<h3 id="4-Easy-Code"><a href="#4-Easy-Code" class="headerlink" title="4.Easy Code"></a>4.Easy Code</h3><blockquote>
<p>EasyCodeæ˜¯åŸºäºIntelliJ IDEA Ultimateç‰ˆå¼€å‘çš„ä¸€ä¸ªä»£ç ç”Ÿæˆæ’ä»¶ï¼Œä¸»è¦é€šè¿‡è‡ªå®šä¹‰æ¨¡æ¿ï¼ˆåŸºäºvelocityï¼‰æ¥ç”Ÿæˆå„ç§ä½ æƒ³è¦çš„ä»£ç ã€‚é€šå¸¸ç”¨äºç”ŸæˆEntityã€Daoã€Serviceã€Controllerã€‚å¦‚æœä½ åŠ¨æ‰‹èƒ½åŠ›å¼ºè¿˜å¯ä»¥ç”¨äºç”ŸæˆHTMLã€JSã€PHPç­‰ä»£ç ã€‚ç†è®ºä¸Šæ¥è¯´åªè¦æ˜¯ä¸æ•°æ®æœ‰å…³çš„ä»£ç éƒ½æ˜¯å¯ä»¥ç”Ÿæˆçš„ã€‚</p>
</blockquote>
<h3 id="5-JavaDoc"><a href="#5-JavaDoc" class="headerlink" title="5.JavaDoc"></a>5.JavaDoc</h3><p>å¿«é€Ÿç”Ÿæˆjavadocæ–‡æ¡£æ³¨é‡Š</p>
<h3 id="6-Lombok"><a href="#6-Lombok" class="headerlink" title="6.Lombok"></a>6.Lombok</h3><p>ä¸»è¦ç”¨é€”æ˜¯æä¾›äº†ç®€å•çš„æ³¨è§£çš„å½¢å¼æ¥å¸®åŠ©æˆ‘ä»¬ç®€åŒ–æ¶ˆé™¤ä¸€äº›å¿…é¡»æœ‰ä½†æ˜¾å¾—å¾ˆè‡ƒè‚¿çš„ java ä»£ç ï¼Œæé«˜ç¼–ç æ•ˆç‡ï¼Œä½¿ä»£ç æ›´ç®€æ´ã€‚</p>
<h3 id="7-MyBatisPlus"><a href="#7-MyBatisPlus" class="headerlink" title="7.MyBatisPlus"></a>7.MyBatisPlus</h3><blockquote>
<p>generator code<br>live template<br>MybatisPlus plugin from java to xml or from xml to java</p>
</blockquote>
<h3 id="8-Nyan-Progress-Bar"><a href="#8-Nyan-Progress-Bar" class="headerlink" title="8.Nyan Progress Bar"></a>8.Nyan Progress Bar</h3><blockquote>
<p>Pretty progress bars with nyan cat for IJ based IDEs.</p>
</blockquote>
<p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/picgo/image-20220727142237704.png" alt="Nyan Progress Bar"></p>
<h3 id="9-One-Dark-theme"><a href="#9-One-Dark-theme" class="headerlink" title="9.One Dark theme"></a>9.One Dark theme</h3><p>å…¶ä¸­One Dark Vividä¸»é¢˜çœŸçš„å¾ˆç®€æ´ã€èˆ’æœï¼Œçœ‹è…»äº†Ideaè‡ªå¸¦çš„ç³»ç»Ÿï¼Œå¯ä»¥è€ƒè™‘æ¢ä¸ªä¸»é¢˜è¯•è¯•ã€‚</p>
<p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/picgo/image-20220727143552405.png" alt="One Dark Vivid"></p>
<h3 id="10-Translation"><a href="#10-Translation" class="headerlink" title="10.Translation"></a>10.Translation</h3><blockquote>
<p>Translation plugin for IntelliJ based IDEs&#x2F;Android Studio&#x2F;HUAWEI DevEco Studio.</p>
</blockquote>
<p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/picgo/68747470733a2f2f63646e2e6a7364656c6976722e6e65742f67682f596969477578696e672f5472616e736c6174696f6e506c7567696e406d61737465722f696d616765732f73637265656e73686f74732e676966.gif" alt="translation"></p>
<h3 id="11-å…¶ä»–"><a href="#11-å…¶ä»–" class="headerlink" title="11.å…¶ä»–"></a>11.å…¶ä»–</h3><p>Pythonã€requirementsç­‰å¼€å‘pythonçš„æ’ä»¶ï¼Œè®©æˆ‘å¯ä»¥æ›´æ–¹ä¾¿çš„åœ¨Ideaä¸­ç¼–å†™pythonä»£ç ã€‚<br>smart input proè‡ªåŠ¨åˆ‡æ¢è¾“å…¥æ³•<br>Gsonformatç®€åŒ–JSONå’ŒJavaBeanä¹‹é—´çš„è½¬æ¢<br>Free MyBatis Toolå®ç°mapperé—´æ¥å›è·³è½¬</p>

          
        
      
    </div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>

  <hr/>

    
      

  

  
  
  
  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://ruiyeclub.cn/2022/06/01/SpringBoot-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B(%E8%BD%AC)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ruiyeclub">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/06/01/SpringBoot-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B(%E8%BD%AC)/" itemprop="url">SpringBoot+Vueå‰åç«¯åˆ†ç¦»é¡¹ç›®éƒ¨ç½²æ•™ç¨‹(è½¬)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-06-01T09:39:56+08:00">
                2022-06-01
              </time>
            
          </span>

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-æ‰“åŒ…åç«¯é¡¹ç›®jaråŒ…"><a href="#1-æ‰“åŒ…åç«¯é¡¹ç›®jaråŒ…" class="headerlink" title="1.æ‰“åŒ…åç«¯é¡¹ç›®jaråŒ…"></a>1.æ‰“åŒ…åç«¯é¡¹ç›®jaråŒ…</h2><p>æ‰“å¼€pom.xmlæ–‡ä»¶ï¼Œä¿®æ”¹packagingæ–¹å¼ä¸ºjar<br><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/1b2cb327efd7ff924aed08f1b823c4a4.png" alt="image.png"></p>
<p>ç‚¹å‡»å³ä¾§mavenæ’ä»¶ -&gt; package<br><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/13824b79027f796b472c606e9fd34358.png" alt="image.png"></p>
<p>æ‰“åŒ…æˆåŠŸåä¼šåœ¨targetç›®å½•ä¸‹ç”ŸæˆjaråŒ…<br><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/56a039e0a216ddb1119aea33946b87e0.png" alt="image.png"></p>
<h2 id="2-ç¼–å†™Dockerfileæ–‡ä»¶"><a href="#2-ç¼–å†™Dockerfileæ–‡ä»¶" class="headerlink" title="2.ç¼–å†™Dockerfileæ–‡ä»¶"></a>2.ç¼–å†™Dockerfileæ–‡ä»¶</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">FROM java:8</span><br><span class="line">VOLUME /tmp</span><br><span class="line">ADD blog-springboot-0.0.1.jar blog.jar       </span><br><span class="line">ENTRYPOINT [<span class="string">&quot;java&quot;</span>,<span class="string">&quot;-Djava.security.egd=file:/dev/./urandom&quot;</span>,<span class="string">&quot;-jar&quot;</span>,<span class="string">&quot;/blog.jar&quot;</span>] </span><br><span class="line">sh</span><br><span class="line">FROM java:8</span><br><span class="line">VOLUME /tmp</span><br><span class="line">ADD blog-springboot-0.0.1.jar blog.jar       </span><br><span class="line">ENTRYPOINT [<span class="string">&quot;java&quot;</span>,<span class="string">&quot;-Djava.security.egd=file:/dev/./urandom&quot;</span>,<span class="string">&quot;-jar&quot;</span>,<span class="string">&quot;/blog.jar&quot;</span>] </span><br></pre></td></tr></table></figure>
<p>psï¼šDockerfileæ–‡ä»¶ä¸éœ€è¦åç¼€ï¼Œç›´æ¥ä¸ºæ–‡ä»¶æ ¼å¼</p>
<h2 id="3-ç¼–å†™blog-start-shè„šæœ¬"><a href="#3-ç¼–å†™blog-start-shè„šæœ¬" class="headerlink" title="3.ç¼–å†™blog-start.shè„šæœ¬"></a>3.ç¼–å†™blog-start.shè„šæœ¬</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æºjarè·¯å¾„  </span></span><br><span class="line">SOURCE_PATH=/usr/local/docker</span><br><span class="line"><span class="comment">#docker é•œåƒ/å®¹å™¨åå­—æˆ–è€…jaråå­— è¿™é‡Œéƒ½å‘½åä¸ºè¿™ä¸ª</span></span><br><span class="line">SERVER_NAME=blog-springboot-0.0.1.jar</span><br><span class="line">TAG=latest</span><br><span class="line">SERVER_PORT=8080</span><br><span class="line"><span class="comment">#å®¹å™¨id</span></span><br><span class="line">CID=$(docker ps | grep <span class="string">&quot;<span class="variable">$SERVER_NAME</span>&quot;</span> | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>)</span><br><span class="line"><span class="comment">#é•œåƒid</span></span><br><span class="line">IID=$(docker images | grep <span class="string">&quot;<span class="variable">$SERVER_NAME</span>:<span class="variable">$TAG</span>&quot;</span> | awk <span class="string">&#x27;&#123;print $3&#125;&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$CID</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;å­˜åœ¨å®¹å™¨<span class="variable">$SERVER_NAME</span>, CID-<span class="variable">$CID</span>&quot;</span></span><br><span class="line">  docker stop <span class="variable">$SERVER_NAME</span></span><br><span class="line">  docker <span class="built_in">rm</span> <span class="variable">$SERVER_NAME</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># æ„å»ºdockeré•œåƒ</span></span><br><span class="line"><span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$IID</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;å­˜åœ¨<span class="variable">$SERVER_NAME</span>:<span class="variable">$TAG</span>é•œåƒï¼ŒIID=<span class="variable">$IID</span>&quot;</span></span><br><span class="line">  docker rmi <span class="variable">$SERVER_NAME</span>:<span class="variable">$TAG</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;ä¸å­˜åœ¨<span class="variable">$SERVER_NAME</span>:<span class="variable">$TAG</span>é•œåƒï¼Œå¼€å§‹æ„å»ºé•œåƒ&quot;</span></span><br><span class="line">  <span class="built_in">cd</span> <span class="variable">$SOURCE_PATH</span></span><br><span class="line">  docker build -t <span class="variable">$SERVER_NAME</span>:<span class="variable">$TAG</span> .</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># è¿è¡Œdockerå®¹å™¨</span></span><br><span class="line">docker run --name <span class="variable">$SERVER_NAME</span> -v /usr/local/upload:/usr/local/upload -d -p <span class="variable">$SERVER_PORT</span>:<span class="variable">$SERVER_PORT</span> <span class="variable">$SERVER_NAME</span>:<span class="variable">$TAG</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$SERVER_NAME</span>å®¹å™¨åˆ›å»ºå®Œæˆ&quot;</span></span><br><span class="line">sh</span><br><span class="line"><span class="comment">#æºjarè·¯å¾„  </span></span><br><span class="line">SOURCE_PATH=/usr/local/docker</span><br><span class="line"><span class="comment">#docker é•œåƒ/å®¹å™¨åå­—æˆ–è€…jaråå­— è¿™é‡Œéƒ½å‘½åä¸ºè¿™ä¸ª</span></span><br><span class="line">SERVER_NAME=blog-springboot-0.0.1.jar</span><br><span class="line">TAG=latest</span><br><span class="line">SERVER_PORT=8080</span><br><span class="line"><span class="comment">#å®¹å™¨id</span></span><br><span class="line">CID=$(docker ps | grep <span class="string">&quot;<span class="variable">$SERVER_NAME</span>&quot;</span> | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>)</span><br><span class="line"><span class="comment">#é•œåƒid</span></span><br><span class="line">IID=$(docker images | grep <span class="string">&quot;<span class="variable">$SERVER_NAME</span>:<span class="variable">$TAG</span>&quot;</span> | awk <span class="string">&#x27;&#123;print $3&#125;&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$CID</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;å­˜åœ¨å®¹å™¨<span class="variable">$SERVER_NAME</span>, CID-<span class="variable">$CID</span>&quot;</span></span><br><span class="line">  docker stop <span class="variable">$SERVER_NAME</span></span><br><span class="line">  docker <span class="built_in">rm</span> <span class="variable">$SERVER_NAME</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># æ„å»ºdockeré•œåƒ</span></span><br><span class="line"><span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$IID</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;å­˜åœ¨<span class="variable">$SERVER_NAME</span>:<span class="variable">$TAG</span>é•œåƒï¼ŒIID=<span class="variable">$IID</span>&quot;</span></span><br><span class="line">  docker rmi <span class="variable">$SERVER_NAME</span>:<span class="variable">$TAG</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;ä¸å­˜åœ¨<span class="variable">$SERVER_NAME</span>:<span class="variable">$TAG</span>é•œåƒï¼Œå¼€å§‹æ„å»ºé•œåƒ&quot;</span></span><br><span class="line">  <span class="built_in">cd</span> <span class="variable">$SOURCE_PATH</span></span><br><span class="line">  docker build -t <span class="variable">$SERVER_NAME</span>:<span class="variable">$TAG</span> .</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># è¿è¡Œdockerå®¹å™¨</span></span><br><span class="line">docker run --name <span class="variable">$SERVER_NAME</span> -v /usr/local/upload:/usr/local/upload -d -p <span class="variable">$SERVER_PORT</span>:<span class="variable">$SERVER_PORT</span> <span class="variable">$SERVER_NAME</span>:<span class="variable">$TAG</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$SERVER_NAME</span>å®¹å™¨åˆ›å»ºå®Œæˆ&quot;</span></span><br></pre></td></tr></table></figure>
<p>psï¼šshæ–‡ä»¶éœ€è¦ç”¨notepad++è½¬ä¸ºUnixæ ¼å¼<br><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/aaed807d8df80aae11a94ea00df2264c.png" alt="image.png"></p>
<h2 id="4-å°†æ–‡ä»¶ä¼ è¾“åˆ°æœåŠ¡å™¨"><a href="#4-å°†æ–‡ä»¶ä¼ è¾“åˆ°æœåŠ¡å™¨" class="headerlink" title="4.å°†æ–‡ä»¶ä¼ è¾“åˆ°æœåŠ¡å™¨"></a>4.å°†æ–‡ä»¶ä¼ è¾“åˆ°æœåŠ¡å™¨</h2><p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/183030180db2eb36f8949a2c81cb02ea.png" alt="image.png"></p>
<p>å°†ä¸Šè¿°ä¸‰ä¸ªæ–‡ä»¶ä¼ è¾“åˆ°&#x2F;usr&#x2F;local&#x2F;dockerä¸‹ï¼ˆæ‰‹åŠ¨åˆ›å»ºæ–‡ä»¶å¤¹ï¼‰<br><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/d84ab03c0e7b56ee01dce5f89d30d554.png" alt="image.png"></p>
<h2 id="5-dockerè¿è¡Œåç«¯é¡¹ç›®"><a href="#5-dockerè¿è¡Œåç«¯é¡¹ç›®" class="headerlink" title="5.dockerè¿è¡Œåç«¯é¡¹ç›®"></a>5.dockerè¿è¡Œåç«¯é¡¹ç›®</h2><p>è¿›å…¥æœåŠ¡å™¨&#x2F;usr&#x2F;local&#x2F;dockerä¸‹ï¼Œæ„å»ºåç«¯é•œåƒ</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh ./blog-start.sh </span><br></pre></td></tr></table></figure>

<p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/9a59bf2c7c8c465b707e5645a4b175b1.png" alt="image.png"><br>psï¼šç¬¬ä¸€æ¬¡æ—¶é—´å¯èƒ½æ¯”è¾ƒé•¿ï¼Œè€å¿ƒç­‰å¾…å³å¯</p>
<p>æŸ¥çœ‹æ˜¯å¦æ„å»ºæˆåŠŸ<br><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/1096233de4147cd81b65728a495914a7.png" alt="image.png"></p>
<p>å¯ä»¥å»æµ‹è¯•ä¸‹æ¥å£æ˜¯å¦è¿è¡ŒæˆåŠŸ<br><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/a91b807200f73c0c406eae9ffb1e4297.png" alt="image.png"><br>psï¼šéœ€è¦é‡æ–°éƒ¨ç½²åªéœ€é‡æ–°ä¼ jaråŒ…ï¼Œæ‰§è¡Œshè„šæœ¬å³å¯</p>
<h2 id="6-æ‰“åŒ…å‰ç«¯é¡¹ç›®"><a href="#6-æ‰“åŒ…å‰ç«¯é¡¹ç›®" class="headerlink" title="6.æ‰“åŒ…å‰ç«¯é¡¹ç›®"></a>6.æ‰“åŒ…å‰ç«¯é¡¹ç›®</h2><p>æ‰“å¼€cmdï¼Œè¿›å…¥Vueé¡¹ç›®è·¯å¾„ -&gt; npm run build<br><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/718358e5cc8e32b6ed1b0e0788dd7e22.png" alt="image.png"></p>
<p>æ‰“åŒ…æˆåŠŸåä¼šåœ¨ç›®å½•ä¸‹ç”Ÿæˆdistæ–‡ä»¶<br><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/0b0b7a9a815eeef02e658c15ea0b564b.png" alt="image.png"></p>
<p>å°†Vueæ‰“åŒ…é¡¹ç›®ä¼ è¾“åˆ°&#x2F;usr&#x2F;local&#x2F;vueä¸‹ï¼ˆç”±äºæˆ‘å‰å°å’Œåå°åˆ†ä¸ºä¸¤ä¸ªé¡¹ç›®ï¼Œæ‰€ä»¥æ”¹ådistæ–‡ä»¶ï¼‰<br><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/d8eb85b7f7bd34b93b1d2ac9b24142fb.png" alt="image.png"></p>
<h2 id="7-nginxé…ç½®-æœ‰åŸŸåé€‰è¿™ä¸ª"><a href="#7-nginxé…ç½®-æœ‰åŸŸåé€‰è¿™ä¸ª" class="headerlink" title="7.nginxé…ç½®(æœ‰åŸŸåé€‰è¿™ä¸ª)"></a>7.nginxé…ç½®(æœ‰åŸŸåé€‰è¿™ä¸ª)</h2><p>åœ¨&#x2F;usr&#x2F;local&#x2F;nginxä¸‹åˆ›å»ºnginx.confæ–‡ä»¶ï¼Œæ ¼å¼å¦‚ä¸‹</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line">    sendfile        on;</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line"></span><br><span class="line">    client_max_body_size     50m;</span><br><span class="line">    client_body_buffer_size  10m; </span><br><span class="line">    client_header_timeout    1m;</span><br><span class="line">    client_body_timeout      1m;</span><br><span class="line"></span><br><span class="line">    gzip on;</span><br><span class="line">    gzip_min_length  1k;</span><br><span class="line">    gzip_buffers     4 16k;</span><br><span class="line">    gzip_comp_level  4;</span><br><span class="line">    gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png;</span><br><span class="line">    gzip_vary on;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  å‰å°åŸŸå;</span><br><span class="line">     </span><br><span class="line">        location / &#123;		</span><br><span class="line">            root   /usr/local/vue/blog;</span><br><span class="line">            index  index.html index.htm; </span><br><span class="line">            try_files <span class="variable">$uri</span> <span class="variable">$uri</span>/ /index.html;	</span><br><span class="line">        &#125;</span><br><span class="line">			</span><br><span class="line">	location ^~ /api/ &#123;		</span><br><span class="line">            proxy_pass http://ä½ çš„ip:8080/;</span><br><span class="line">	    proxy_set_header   Host             <span class="variable">$host</span>;</span><br><span class="line">            proxy_set_header   X-Real-IP        <span class="variable">$remote_addr</span>;						</span><br><span class="line">            proxy_set_header   X-Forwarded-For  <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        &#125;</span><br><span class="line">		</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  åå°å­åŸŸå;</span><br><span class="line">     </span><br><span class="line">        location / &#123;		</span><br><span class="line">            root   /usr/local/vue/admin;</span><br><span class="line">            index  index.html index.htm; </span><br><span class="line">            try_files <span class="variable">$uri</span> <span class="variable">$uri</span>/ /index.html;	</span><br><span class="line">        &#125;</span><br><span class="line">			</span><br><span class="line">	location ^~ /api/ &#123;		</span><br><span class="line">            proxy_pass http://ä½ çš„ip:8080/;</span><br><span class="line">	    proxy_set_header   Host             <span class="variable">$host</span>;</span><br><span class="line">            proxy_set_header   X-Real-IP        <span class="variable">$remote_addr</span>;						</span><br><span class="line">            proxy_set_header   X-Forwarded-For  <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        &#125;</span><br><span class="line">		</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  websocketå­åŸŸå;</span><br><span class="line">     </span><br><span class="line">        location / &#123;</span><br><span class="line">          proxy_pass http://ä½ çš„ip:8080/websocket;</span><br><span class="line">          proxy_http_version 1.1;</span><br><span class="line">          proxy_set_header Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">          proxy_set_header Connection <span class="string">&quot;Upgrade&quot;</span>;</span><br><span class="line">          proxy_set_header Host <span class="variable">$host</span>:<span class="variable">$server_port</span>;</span><br><span class="line">          proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">          proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">          proxy_set_header X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">       &#125;</span><br><span class="line">	</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  ä¸Šä¼ æ–‡ä»¶å­åŸŸå;</span><br><span class="line">     </span><br><span class="line">        location / &#123;		</span><br><span class="line">          <span class="built_in">alias</span> /usr/local/upload/; </span><br><span class="line">          autoindex on;</span><br><span class="line">          autoindex_exact_size on;</span><br><span class="line">          autoindex_localtime on;</span><br><span class="line">        &#125;		</span><br><span class="line">		</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>psï¼šæˆ‘å‰å°å’Œåå°æ—¶åˆ†ä¸ºä¸¤ä¸ªåŸŸåï¼Œæ‰€ä»¥å†™äº†ä¸¤ä¸ªserverï¼Œå‰ç«¯é¡¹ç›®è·¯å¾„ä¸ºä¹‹å‰ä¼ è¾“çš„è·¯å¾„ï¼Œå…¶ä»–ä¸¤ä¸ªä¸ºæ–‡ä»¶ä¸Šä¼ åŸŸåå’Œwebsocketè½¬å‘åŸŸåã€‚</p>
<p>dockerå¯åŠ¨nginxæœåŠ¡</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name nginx --restart=always -p 80:80 -d -v /usr/local/nginx/nginx.conf:/etc/nginx/nginx.conf -v /usr/local/vue:/usr/local/vue -v /usr/local/upload:/usr/local/upload nginx </span><br></pre></td></tr></table></figure>

<h2 id="8-nginxé…ç½®-æ— åŸŸåé€‰è¿™ä¸ª"><a href="#8-nginxé…ç½®-æ— åŸŸåé€‰è¿™ä¸ª" class="headerlink" title="8.nginxé…ç½®(æ— åŸŸåé€‰è¿™ä¸ª)"></a>8.nginxé…ç½®(æ— åŸŸåé€‰è¿™ä¸ª)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line">    sendfile        on;</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line"></span><br><span class="line">    client_max_body_size     50m;</span><br><span class="line">    client_body_buffer_size  10m; </span><br><span class="line">    client_header_timeout    1m;</span><br><span class="line">    client_body_timeout      1m;</span><br><span class="line"></span><br><span class="line">    gzip on;</span><br><span class="line">    gzip_min_length  1k;</span><br><span class="line">    gzip_buffers     4 16k;</span><br><span class="line">    gzip_comp_level  4;</span><br><span class="line">    gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png;</span><br><span class="line">    gzip_vary on;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  ä½ çš„ip;</span><br><span class="line">     </span><br><span class="line">        location / &#123;		</span><br><span class="line">            root   /usr/local/vue/blog;</span><br><span class="line">            index  index.html index.htm; </span><br><span class="line">            try_files <span class="variable">$uri</span> <span class="variable">$uri</span>/ /index.html;	</span><br><span class="line">        &#125;</span><br><span class="line">			</span><br><span class="line">	location ^~ /api/ &#123;		</span><br><span class="line">            proxy_pass http://ä½ çš„ip:8080/;</span><br><span class="line">	    proxy_set_header   Host             <span class="variable">$host</span>;</span><br><span class="line">            proxy_set_header   X-Real-IP        <span class="variable">$remote_addr</span>;						</span><br><span class="line">            proxy_set_header   X-Forwarded-For  <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        &#125;</span><br><span class="line">		</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">server &#123;</span><br><span class="line">        listen       81;</span><br><span class="line">        server_name  ä½ çš„ip;</span><br><span class="line">     </span><br><span class="line">        location / &#123;		</span><br><span class="line">            root   /usr/local/vue/admin;</span><br><span class="line">            index  index.html index.htm; </span><br><span class="line">            try_files <span class="variable">$uri</span> <span class="variable">$uri</span>/ /index.html;	</span><br><span class="line">        &#125;</span><br><span class="line">			</span><br><span class="line">	location ^~ /api/ &#123;		</span><br><span class="line">            proxy_pass http://ä½ çš„ip:8080/;</span><br><span class="line">	    proxy_set_header   Host             <span class="variable">$host</span>;</span><br><span class="line">            proxy_set_header   X-Real-IP        <span class="variable">$remote_addr</span>;						</span><br><span class="line">            proxy_set_header   X-Forwarded-For  <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        &#125;</span><br><span class="line">		</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        listen       82;</span><br><span class="line">        server_name  ä½ çš„ip;</span><br><span class="line">     </span><br><span class="line">        location / &#123;</span><br><span class="line">          proxy_pass http://ä½ çš„ip:8080/websocket;</span><br><span class="line">          proxy_http_version 1.1;</span><br><span class="line">          proxy_set_header Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">          proxy_set_header Connection <span class="string">&quot;Upgrade&quot;</span>;</span><br><span class="line">          proxy_set_header Host <span class="variable">$host</span>:<span class="variable">$server_port</span>;</span><br><span class="line">          proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">          proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">          proxy_set_header X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">       &#125;</span><br><span class="line">	</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        listen       83;</span><br><span class="line">        server_name  ä½ çš„ip;</span><br><span class="line">     </span><br><span class="line">        location / &#123;		</span><br><span class="line">          <span class="built_in">alias</span> /usr/local/upload/; </span><br><span class="line">          autoindex on;</span><br><span class="line">          autoindex_exact_size on;</span><br><span class="line">          autoindex_localtime on;</span><br><span class="line">        &#125;		</span><br><span class="line">		</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>dockerå¯åŠ¨nginxæœåŠ¡</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name nginx --restart=always -p 80:80 -p 81:81 -p 82:82 -p 83:83 -d -v /usr/local/nginx/nginx.conf:/etc/nginx/nginx.conf -v /usr/local/vue:/usr/local/vue -v /usr/local/upload:/usr/local/upload nginx </span><br></pre></td></tr></table></figure>
<p>psï¼šéœ€è¦é€šè¿‡ip + ç«¯å£å·è®¿é—®é¡¹ç›®</p>
<h2 id="9-è¿è¡Œæµ‹è¯•"><a href="#9-è¿è¡Œæµ‹è¯•" class="headerlink" title="9.è¿è¡Œæµ‹è¯•"></a>9.è¿è¡Œæµ‹è¯•</h2><p>å»æµè§ˆå™¨æµ‹è¯•ä¸‹æ˜¯å¦è¿è¡ŒæˆåŠŸ<br><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/66732d08619276eea4be2f8ab7f32551.png" alt="image.png"></p>
<h2 id="10-å…¶ä»–è®¾ç½®"><a href="#10-å…¶ä»–è®¾ç½®" class="headerlink" title="10.å…¶ä»–è®¾ç½®"></a>10.å…¶ä»–è®¾ç½®</h2><p>è¿›å…¥åå°ç®¡ç† -&gt; ç½‘ç«™ç®¡ç† -&gt; å…¶ä»–è®¾ç½®ï¼Œé…ç½®websocketåŸŸå<br><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/a97b2594f13b2928072728067ac68968.png" alt="image.png"></p>
<h2 id="11-æ€»ç»“"><a href="#11-æ€»ç»“" class="headerlink" title="11.æ€»ç»“"></a>11.æ€»ç»“</h2><p>æ•´ä¸ªå‰åç«¯åˆ†ç¦»çš„éƒ¨ç½²æ•™ç¨‹åˆ°è¿™é‡Œå°±ç»“æŸå•¦ï¼Œç¬¬ä¸€æ¬¡éƒ¨ç½²å¯èƒ½ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œä¸è¿‡åé¢å°±è½»è½¦ç†Ÿè·¯äº†ï¼Œæœ‰é—®é¢˜çš„å¯ä»¥ç§èŠé—®æˆ‘æˆ–è€…åœ¨è¯„è®ºåŒºç•™è¨€ã€‚</p>

          
        
      
    </div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>

  <hr/>

    
      

  

  
  
  
  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://ruiyeclub.cn/2022/06/01/SpringCloud%E4%BD%BF%E7%94%A8Feign%E6%9C%8D%E5%8A%A1%E9%80%9A%E4%BF%A1%E8%B8%A9%E7%9A%84%E5%9D%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ruiyeclub">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/06/01/SpringCloud%E4%BD%BF%E7%94%A8Feign%E6%9C%8D%E5%8A%A1%E9%80%9A%E4%BF%A1%E8%B8%A9%E7%9A%84%E5%9D%91/" itemprop="url">SpringCloudä½¿ç”¨FeignæœåŠ¡é€šä¿¡è¸©çš„å‘</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-06-01T09:39:35+08:00">
                2022-06-01
              </time>
            
          </span>

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ã€€ã€€<strong>fallbackç†”æ–­å™¨å®ç°äº†Feignå®¢æˆ·ç«¯çš„æ‰€æœ‰æ–¹æ³•ï¼Œå½“ç½‘ç»œä¸é€šæˆ–è€…è®¿é—®å¤±è´¥æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨fallbackæœåŠ¡é™çº§ç±»ä¸­çš„æ–¹æ³•ã€‚</strong></p>
<p>å¯åŠ¨é¡¹ç›®æ—¶æŠ¥é”™äº†ï¼Œå…·ä½“çš„æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Caused by: java.lang.IllegalStateException: No fallback instance of type <span class="keyword">class</span> <span class="title class_">com</span>.xxx.xxx.feign.fallback.RemoteUserFallback found <span class="keyword">for</span> feign client xxx</span><br></pre></td></tr></table></figure>

<p>æŠ¥é”™å†…å®¹æ˜æ˜¾æ˜¯æ²¡æ‰¾åˆ°RemoteUserFallBackè¿™ä¸ªç±»</p>
<p>1ã€æ£€æŸ¥é…ç½®æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">feign:</span><br><span class="line">  hystrix:</span><br><span class="line">    enabled: true # å¼€å¯Feignçš„ç†”æ–­åŠŸèƒ½ é»˜è®¤æ˜¯å…³é—­çš„</span><br></pre></td></tr></table></figure>
<p>2ã€å¯åŠ¨ç±»ä¸Šéœ€è¦@EnableFeignClientsæ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableFeignClients(basePackages = &#123;&quot;com.xxx.åŒ…å&quot;&#125;)</span> <span class="comment">//å¼€å¯Feignå¹¶æ‰«æFeignå®¢æˆ·ç«¯</span></span><br></pre></td></tr></table></figure>

<p>3ã€Feignå®¢æˆ·ç«¯ç±»ä¸Šä½¿ç”¨@FeignClientï¼Œé€šè¿‡fallbackå±æ€§æ¥æŒ‡æ˜å¯¹åº”ç†”æ–­å™¨çš„ç±»å</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FeignClient(value = &quot;æœåŠ¡å&quot;, fallback = RemoteUserFallback.class,)</span> <span class="comment">//å£°æ˜å½“å‰ç±»æ˜¯ä¸€ä¸ªFeignå®¢æˆ·ç«¯ï¼Œå¹¶æŒ‡å®šè¯·æ±‚çš„æœåŠ¡å</span></span><br></pre></td></tr></table></figure>
<p><strong>4ã€fallbackç†”æ–­å™¨ç±»ä¸Šéœ€è¦åŠ æ³¨è§£@Componentï¼Œç¡®ä¿å¯ä»¥è¢«springæ‰«æ</strong></p>
<p>æˆ‘æŠ¥é”™çš„åŸå› å°±æ˜¯å‡ºç°åœ¨ç¬¬å››æ­¥è¿™é‡Œï¼Œå°½ç®¡æˆ‘åŠ äº†@componentæ³¨è§£ã€‚SpringBootåœ¨å¯åŠ¨çš„æ—¶å€™ ä¼šæ‰«æmainç±»æ‰€åœ¨åŒ…åŠå…¶å­åŒ…è¿›è¡ŒBeançš„å®ä¾‹åŒ–ï¼Œä½†æ˜¯fallbackç†”æ–­å™¨ç±»å¹¶ä¸åœ¨æˆ‘å¯åŠ¨ç±»çš„å­ç±»ä¸‹é¢ï¼Œæˆ‘è¿™é‡Œæ˜¯é€šè¿‡å¼•å…¥å…¶æ¨¡å—æ¥è°ƒç”¨è¿™é‡Œé¢çš„æ–¹æ³•ã€‚</p>
<p>æ‰€ä»¥æœ€åæˆ‘åœ¨å¯åŠ¨ç±»ä¸ŠåŠ äº†@ComponentScanæ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ComponentScan(basePackages = &#123;&quot;com.xxx&quot;&#125;)</span></span><br></pre></td></tr></table></figure>
<p>OKï¼ŒæˆåŠŸå¯åŠ¨å¹¶è®¿é—®æˆåŠŸã€‚</p>

          
        
      
    </div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>

  <hr/>

    
      

  

  
  
  
  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://ruiyeclub.cn/2022/06/01/SpringBoot%E6%95%B4%E5%90%88Mail%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6-%E5%8F%91%E9%80%81%E6%A8%A1%E6%9D%BF%E9%82%AE%E4%BB%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ruiyeclub">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/06/01/SpringBoot%E6%95%B4%E5%90%88Mail%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6-%E5%8F%91%E9%80%81%E6%A8%A1%E6%9D%BF%E9%82%AE%E4%BB%B6/" itemprop="url">SpringBootæ•´åˆMailå‘é€é‚®ä»¶&å‘é€æ¨¡æ¿é‚®ä»¶</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-06-01T09:38:58+08:00">
                2022-06-01
              </time>
            
          </span>

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ã€€ã€€æ•´åˆmailå‘é€é‚®ä»¶ï¼Œå…¶å®å°±æ˜¯é€šè¿‡ä»£ç æ¥æ“ä½œå‘é€é‚®ä»¶çš„æ­¥éª¤ï¼Œç¼–è¾‘æ”¶ä»¶äººã€é‚®ä»¶å†…å®¹ã€é‚®ä»¶é™„ä»¶ç­‰ç­‰ã€‚é€šè¿‡é‚®ä»¶å¯ä»¥æ‹“å±•å‡ºçŸ­ä¿¡éªŒè¯ç ã€æ¶ˆæ¯é€šçŸ¥ç­‰ä¸šåŠ¡ã€‚</p>
<h1 id="ä¸€ã€pomæ–‡ä»¶å¼•å…¥ä¾èµ–"><a href="#ä¸€ã€pomæ–‡ä»¶å¼•å…¥ä¾èµ–" class="headerlink" title="ä¸€ã€pomæ–‡ä»¶å¼•å…¥ä¾èµ–"></a>ä¸€ã€pomæ–‡ä»¶å¼•å…¥ä¾èµ–</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-mail<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--freemarkeræ¨¡æ¿å¼•æ“æ˜¯ä¸ºäº†åé¢å‘é€æ¨¡æ¿é‚®ä»¶ ä¸éœ€è¦çš„å¯ä»¥ä¸å¼•å…¥--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-freemarker<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="äºŒã€application-ymlæ–‡ä»¶ä¸­é…ç½®"><a href="#äºŒã€application-ymlæ–‡ä»¶ä¸­é…ç½®" class="headerlink" title="äºŒã€application.ymlæ–‡ä»¶ä¸­é…ç½®"></a>äºŒã€application.ymlæ–‡ä»¶ä¸­é…ç½®</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">spring:</span><br><span class="line">  mail:</span><br><span class="line">    host: smtp.qq.xyz #è¿™é‡Œæ¢æˆè‡ªå·±çš„é‚®ç®±ç±»å‹ ä¾‹å¦‚qqé‚®ç®±å°±å†™smtp.qq.com</span><br><span class="line">    username: xx@qq.com #QQé‚®ç®±</span><br><span class="line">    password: xxxxxxxxxxx #é‚®ç®±å¯†ç æˆ–è€…æˆæƒç </span><br><span class="line">    protocol: smtp #å‘é€é‚®ä»¶åè®®</span><br><span class="line">    properties.mail.smtp.auth: true</span><br><span class="line">    properties.mail.smtp.port: 465 #ç«¯å£å·465æˆ–587</span><br><span class="line">    properties.mail.smtp.starttls.enable: true</span><br><span class="line">    properties.mail.smtp.starttls.required: true</span><br><span class="line">    properties.mail.smtp.ssl.enable: true #å¼€å¯SSL</span><br><span class="line">    default-encoding: utf-8</span><br><span class="line">freemarker:</span><br><span class="line">  cache: false # ç¼“å­˜é…ç½® å¼€å‘é˜¶æ®µåº”è¯¥é…ç½®ä¸ºfalse å› ä¸ºç»å¸¸ä¼šæ”¹</span><br><span class="line">  suffix: .html # æ¨¡ç‰ˆåç¼€å é»˜è®¤ä¸ºftl</span><br><span class="line">  charset: UTF-8 # æ–‡ä»¶ç¼–ç </span><br><span class="line">  template-loader-path: classpath:/templates/  # å­˜æ”¾æ¨¡æ¿çš„æ–‡ä»¶å¤¹ï¼Œä»¥resourceæ–‡ä»¶å¤¹ä¸ºç›¸å¯¹è·¯å¾„</span><br></pre></td></tr></table></figure>
<p>é‚®ç®±å¯†ç æš´éœ²åœ¨é…ç½®æ–‡ä»¶å¾ˆä¸å®‰å…¨ï¼Œä¸€èˆ¬éƒ½æ˜¯é‡‡å–æˆæƒç çš„å½¢å¼ã€‚ç‚¹å¼€é‚®ç®±ï¼Œç„¶ååœ¨è´¦æˆ·æ é‡Œé¢ç‚¹å‡»ç”Ÿæˆæˆæƒç ï¼š<br><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/c2d0d1f35a98ed2c68a4fdc2e120dbc6.png" alt="image.png"></p>
<h1 id="ä¸‰ã€ç¼–å†™MailUtilså·¥å…·ç±»"><a href="#ä¸‰ã€ç¼–å†™MailUtilså·¥å…·ç±»" class="headerlink" title="ä¸‰ã€ç¼–å†™MailUtilså·¥å…·ç±»"></a>ä¸‰ã€ç¼–å†™MailUtilså·¥å…·ç±»</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MailUtils</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Springå®˜æ–¹æä¾›çš„é›†æˆé‚®ä»¶æœåŠ¡çš„å®ç°ç±»ï¼Œç›®å‰æ˜¯Javaåç«¯å‘é€é‚®ä»¶å’Œé›†æˆé‚®ä»¶æœåŠ¡çš„ä¸»æµå·¥å…·ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> JavaMailSender mailSender;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä»é…ç½®æ–‡ä»¶ä¸­æ³¨å…¥å‘ä»¶äººçš„å§“å</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;spring.mail.username&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String fromEmail;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> FreeMarkerConfigurer freeMarkerConfigurer;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€æ–‡æœ¬é‚®ä»¶</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> to      æ”¶ä»¶äºº</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> subject æ ‡é¢˜</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> content æ­£æ–‡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendSimpleMail</span><span class="params">(String to, String subject, String content)</span> &#123;</span><br><span class="line">        <span class="type">SimpleMailMessage</span> <span class="variable">message</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleMailMessage</span>();</span><br><span class="line">        <span class="comment">//å‘ä»¶äºº</span></span><br><span class="line">        message.setFrom(fromEmail);</span><br><span class="line">        message.setTo(to);</span><br><span class="line">        message.setSubject(subject);</span><br><span class="line">        message.setText(content);</span><br><span class="line">        mailSender.send(message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€htmlé‚®ä»¶</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendHtmlMail</span><span class="params">(String to, String subject, String content)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//æ³¨æ„è¿™é‡Œä½¿ç”¨çš„æ˜¯MimeMessage</span></span><br><span class="line">            <span class="type">MimeMessage</span> <span class="variable">message</span> <span class="operator">=</span> mailSender.createMimeMessage();</span><br><span class="line">            <span class="type">MimeMessageHelper</span> <span class="variable">helper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MimeMessageHelper</span>(message, <span class="literal">true</span>);</span><br><span class="line">            helper.setFrom(fromEmail);</span><br><span class="line">            helper.setTo(to);</span><br><span class="line">            helper.setSubject(subject);</span><br><span class="line">            <span class="comment">//ç¬¬äºŒä¸ªå‚æ•°ï¼šæ ¼å¼æ˜¯å¦ä¸ºhtml</span></span><br><span class="line">            helper.setText(content, <span class="literal">true</span>);</span><br><span class="line">            mailSender.send(message);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (MessagingException e)&#123;</span><br><span class="line">            log.error(<span class="string">&quot;å‘é€é‚®ä»¶æ—¶å‘ç”Ÿå¼‚å¸¸ï¼&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€æ¨¡æ¿é‚®ä»¶</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> to</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> subject</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> template</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendTemplateMail</span><span class="params">(String to, String subject, String template)</span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// è·å¾—æ¨¡æ¿</span></span><br><span class="line">            <span class="type">Template</span> <span class="variable">template1</span> <span class="operator">=</span> freeMarkerConfigurer.getConfiguration().getTemplate(template);</span><br><span class="line">            <span class="comment">// ä½¿ç”¨Mapä½œä¸ºæ•°æ®æ¨¡å‹ï¼Œå®šä¹‰å±æ€§å’Œå€¼</span></span><br><span class="line">            Map&lt;String,Object&gt; model = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">            model.put(<span class="string">&quot;myname&quot;</span>,<span class="string">&quot;Rayã€‚&quot;</span>);</span><br><span class="line">            <span class="comment">// ä¼ å…¥æ•°æ®æ¨¡å‹åˆ°æ¨¡æ¿ï¼Œæ›¿ä»£æ¨¡æ¿ä¸­çš„å ä½ç¬¦ï¼Œå¹¶å°†æ¨¡æ¿è½¬åŒ–ä¸ºhtmlå­—ç¬¦ä¸²</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">templateHtml</span> <span class="operator">=</span> FreeMarkerTemplateUtils.processTemplateIntoString(template1,model);</span><br><span class="line">            <span class="comment">// è¯¥æ–¹æ³•æœ¬è´¨ä¸Šè¿˜æ˜¯å‘é€htmlé‚®ä»¶ï¼Œè°ƒç”¨ä¹‹å‰å‘é€htmlé‚®ä»¶çš„æ–¹æ³•</span></span><br><span class="line">            <span class="built_in">this</span>.sendHtmlMail(to, subject, templateHtml);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (TemplateException e) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;å‘é€é‚®ä»¶æ—¶å‘ç”Ÿå¼‚å¸¸ï¼&quot;</span>, e);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;å‘é€é‚®ä»¶æ—¶å‘ç”Ÿå¼‚å¸¸ï¼&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€å¸¦é™„ä»¶çš„é‚®ä»¶</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> to</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> subject</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> content</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> filePath</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendAttachmentsMail</span><span class="params">(String to, String subject, String content, String filePath)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">MimeMessage</span> <span class="variable">message</span> <span class="operator">=</span> mailSender.createMimeMessage();</span><br><span class="line">            <span class="comment">//è¦å¸¦é™„ä»¶ç¬¬äºŒä¸ªå‚æ•°è®¾ä¸ºtrue</span></span><br><span class="line">            <span class="type">MimeMessageHelper</span> <span class="variable">helper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MimeMessageHelper</span>(message, <span class="literal">true</span>);</span><br><span class="line">            helper.setFrom(fromEmail);</span><br><span class="line">            helper.setTo(to);</span><br><span class="line">            helper.setSubject(subject);</span><br><span class="line">            helper.setText(content, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">            <span class="type">FileSystemResource</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileSystemResource</span>(<span class="keyword">new</span> <span class="title class_">File</span>(filePath));</span><br><span class="line">            <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> filePath.substring(filePath.lastIndexOf(File.separator));</span><br><span class="line">            helper.addAttachment(fileName, file);</span><br><span class="line">            mailSender.send(message);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (MessagingException e)&#123;</span><br><span class="line">            log.error(<span class="string">&quot;å‘é€é‚®ä»¶æ—¶å‘ç”Ÿå¼‚å¸¸ï¼&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>MailUtilså…¶å®å°±æ˜¯è¿›ä¸€æ­¥å°è£…Mailæä¾›çš„JavaMailSenderç±»ï¼Œæ ¹æ®ä¸šåŠ¡åœºæ™¯å¯ä»¥åœ¨å·¥å…·ç±»é‡Œé¢æ·»åŠ å¯¹åº”çš„æ–¹æ³•ï¼Œè¿™é‡Œæä¾›äº†å‘é€æ–‡æœ¬é‚®ä»¶ã€htmlé‚®ä»¶ã€æ¨¡æ¿é‚®ä»¶ã€é™„ä»¶é‚®ä»¶çš„æ–¹æ³•ã€‚</p>
<h1 id="å››ã€Controllerå±‚çš„å®ç°"><a href="#å››ã€Controllerå±‚çš„å®ç°" class="headerlink" title="å››ã€Controllerå±‚çš„å®ç°"></a>å››ã€Controllerå±‚çš„å®ç°</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Api(tags = &quot;é‚®ä»¶ç®¡ç†&quot;)</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/mail&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MailController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> MailUtils mailUtils;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€æ³¨å†ŒéªŒè¯ç </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> éªŒè¯ç </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;å‘é€æ³¨å†ŒéªŒè¯ç &quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/test&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">send</span><span class="params">()</span>&#123;</span><br><span class="line">        mailUtils.sendSimpleMail(<span class="string">&quot;ruiyeclub@foxmail.com&quot;</span>,<span class="string">&quot;æ™®é€šæ–‡æœ¬é‚®ä»¶&quot;</span>,<span class="string">&quot;æ™®é€šæ–‡æœ¬é‚®ä»¶å†…å®¹&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€æ³¨å†ŒéªŒè¯ç </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> éªŒè¯ç </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;å‘é€æ³¨å†ŒéªŒè¯ç &quot;)</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/sendHtml&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">sendTemplateMail</span><span class="params">()</span>&#123;</span><br><span class="line">        mailUtils.sendHtmlMail(<span class="string">&quot;ruiyeclub@foxmail.com&quot;</span>,<span class="string">&quot;ä¸€å°htmlæµ‹è¯•é‚®ä»¶&quot;</span>,</span><br><span class="line">                <span class="string">&quot;&lt;div style=\&quot;text-align: center;position: absolute;\&quot; &gt;\n&quot;</span></span><br><span class="line">                        +<span class="string">&quot;&lt;h3&gt;\&quot;ä¸€å°htmlæµ‹è¯•é‚®ä»¶\&quot;&lt;/h3&gt;\n&quot;</span></span><br><span class="line">                        + <span class="string">&quot;&lt;div&gt;ä¸€å°htmlæµ‹è¯•é‚®ä»¶&lt;/div&gt;\n&quot;</span></span><br><span class="line">                        + <span class="string">&quot;&lt;/div&gt;&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;å‘é€htmlæ¨¡æ¿é‚®ä»¶&quot;)</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/sendTemplate&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">sendTemplate</span><span class="params">()</span>&#123;</span><br><span class="line">        mailUtils.sendTemplateMail(<span class="string">&quot;ruiyeclub@foxmail.com&quot;</span>, <span class="string">&quot;åŸºäºæ¨¡æ¿çš„htmlé‚®ä»¶&quot;</span>, <span class="string">&quot;hello.html&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;å‘é€å¸¦é™„ä»¶çš„é‚®ä»¶&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;sendAttachmentsMail&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">sendAttachmentsMail</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="string">&quot;D:\\projects\\springboot\\template.png&quot;</span>;</span><br><span class="line">        mailUtils.sendAttachmentsMail(<span class="string">&quot;xxxx@xx.com&quot;</span>, <span class="string">&quot;å¸¦é™„ä»¶çš„é‚®ä»¶&quot;</span>, <span class="string">&quot;é‚®ä»¶ä¸­æœ‰é™„ä»¶&quot;</span>, filePath);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸ºäº†æ–¹ä¾¿æµ‹è¯•ï¼Œè¿™é‡Œä½¿ç”¨äº†swagger3ï¼Œè¯¦æƒ…å¯ä»¥æŸ¥çœ‹<a href="SpringBoot%E6%95%B4%E5%90%88Swagger3%E7%94%9F%E6%88%90%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3">SpringBootæ•´åˆSwagger3ç”Ÿæˆæ¥å£æ–‡æ¡£</a>ã€‚</p>
<p>å‘é€æ¨¡æ¿é‚®ä»¶è¿™é‡Œï¼Œä¼šè¯»å–resourcesä¸‹é¢çš„templatesæ–‡ä»¶å¤¹ï¼Œæµ‹è¯•ä¸­è¯»å–çš„æ˜¯hello.htmlï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>freemarkerç®€å•ç¤ºä¾‹<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello Freemarker<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>My name is $&#123;myname&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="äº”ã€æµ‹è¯•ç»“æœ"><a href="#äº”ã€æµ‹è¯•ç»“æœ" class="headerlink" title="äº”ã€æµ‹è¯•ç»“æœ"></a>äº”ã€æµ‹è¯•ç»“æœ</h1><p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/ce977f2c1c55d0f5c49f0d863f0eda89.png" alt="image.png"><br>å¦‚æœéœ€è¦è¾¾åˆ°é€šè¿‡é‚®ä»¶å‘é€éªŒè¯ç çš„åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨redisã€‚åå°éšæœºç”ŸæˆéªŒè¯ç ï¼Œç„¶åæŠŠç”¨æˆ·çš„ä¸»é”®è®¾ä¸ºkeyï¼ŒéªŒè¯ç çš„å†…å®¹è®¾ä¸ºvalueï¼Œè¿˜å¯ä»¥è®¾ç½®ä¸ª60sè¿‡æœŸå­˜å‚¨ï¼Œå‘é€æˆåŠŸåï¼Œç”¨æˆ·ç™»å½•é€šè¿‡ä¸»é”®ä»redisæ‹¿åˆ°å¯¹åº”çš„éªŒè¯ç ï¼Œç„¶åå†è¿›è¡Œç™»å½•éªŒè¯å°±å¥½äº†ã€‚</p>
<blockquote>
<p>å‚è€ƒé“¾æ¥ï¼š[Spring Bootæ•´åˆé‚®ä»¶é…ç½®](Spring Bootæ•´åˆé‚®ä»¶é…ç½®)</p>
</blockquote>
<p>GitHubåœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/ruiyeclub/SpringBoot-Hello">https://github.com/ruiyeclub/SpringBoot-Hello</a></p>

          
        
      
    </div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>

  <hr/>

    
      

  

  
  
  
  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://ruiyeclub.cn/2022/06/01/SpringBoot%E6%95%B4%E5%90%88Swagger3%E7%94%9F%E6%88%90%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ruiyeclub">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/06/01/SpringBoot%E6%95%B4%E5%90%88Swagger3%E7%94%9F%E6%88%90%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/" itemprop="url">SpringBootæ•´åˆSwagger3ç”Ÿæˆæ¥å£æ–‡æ¡£</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-06-01T09:38:35+08:00">
                2022-06-01
              </time>
            
          </span>

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ã€€ã€€å‰åç«¯åˆ†ç¦»çš„é¡¹ç›®ï¼Œæ¥å£æ–‡æ¡£çš„å­˜åœ¨ååˆ†é‡è¦ã€‚ä¸æ‰‹åŠ¨ç¼–å†™æ¥å£æ–‡æ¡£ä¸åŒï¼Œswaggeræ˜¯ä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆæ¥å£æ–‡æ¡£çš„å·¥å…·ï¼Œåœ¨éœ€æ±‚ä¸æ–­å˜æ›´çš„å¼€å‘ç¯å¢ƒä¸‹ï¼Œæ‰‹åŠ¨ç¼–å†™æ–‡æ¡£çš„æ•ˆç‡å®åœ¨å¤ªä½ã€‚ä¸æ–°ç‰ˆçš„swagger3ç›¸æ¯”swagger2é…ç½®æ›´å°‘ï¼Œä½¿ç”¨æ›´åŠ æ–¹ä¾¿ã€‚</p>
<h1 id="ä¸€ã€pomæ–‡ä»¶ä¸­å¼•å…¥Swagger3ä¾èµ–"><a href="#ä¸€ã€pomæ–‡ä»¶ä¸­å¼•å…¥Swagger3ä¾èµ–" class="headerlink" title="ä¸€ã€pomæ–‡ä»¶ä¸­å¼•å…¥Swagger3ä¾èµ–"></a>ä¸€ã€pomæ–‡ä»¶ä¸­å¼•å…¥Swagger3ä¾èµ–</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">     &lt;groupId&gt;io.springfox&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;<span class="number">3.0</span><span class="number">.0</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<h1 id="äºŒã€Applicationä¸Šé¢åŠ å…¥-EnableOpenApiæ³¨è§£"><a href="#äºŒã€Applicationä¸Šé¢åŠ å…¥-EnableOpenApiæ³¨è§£" class="headerlink" title="äºŒã€Applicationä¸Šé¢åŠ å…¥@EnableOpenApiæ³¨è§£"></a>äºŒã€Applicationä¸Šé¢åŠ å…¥@EnableOpenApiæ³¨è§£</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableOpenApi</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@MapperScan(basePackages = &#123;&quot;cn.ruiyeclub.dao&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Swagger3Application</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(Swagger3Application.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ä¸‰ã€Swagger3Configçš„é…ç½®"><a href="#ä¸‰ã€Swagger3Configçš„é…ç½®" class="headerlink" title="ä¸‰ã€Swagger3Configçš„é…ç½®"></a>ä¸‰ã€Swagger3Configçš„é…ç½®</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Swagger3Config</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Docket <span class="title function_">createRestApi</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.OAS_30)</span><br><span class="line">                .apiInfo(apiInfo())</span><br><span class="line">                .select()</span><br><span class="line">                .apis(RequestHandlerSelectors.withMethodAnnotation(ApiOperation.class))</span><br><span class="line">                .paths(PathSelectors.any())</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ApiInfo <span class="title function_">apiInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiInfoBuilder</span>()</span><br><span class="line">                .title(<span class="string">&quot;Swagger3æ¥å£æ–‡æ¡£&quot;</span>)</span><br><span class="line">                .description(<span class="string">&quot;æ›´å¤šè¯·å’¨è¯¢æœåŠ¡å¼€å‘è€…Rayã€‚&quot;</span>)</span><br><span class="line">                .contact(<span class="keyword">new</span> <span class="title class_">Contact</span>(<span class="string">&quot;Rayã€‚&quot;</span>, <span class="string">&quot;http://www.ruiyeclub.cn&quot;</span>, <span class="string">&quot;ruiyeclub@foxmail.com&quot;</span>))</span><br><span class="line">                .version(<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="å››ã€Swaggeræ³¨è§£çš„ä½¿ç”¨è¯´æ˜"><a href="#å››ã€Swaggeræ³¨è§£çš„ä½¿ç”¨è¯´æ˜" class="headerlink" title="å››ã€Swaggeræ³¨è§£çš„ä½¿ç”¨è¯´æ˜"></a>å››ã€Swaggeræ³¨è§£çš„ä½¿ç”¨è¯´æ˜</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Api</span>ï¼šç”¨åœ¨è¯·æ±‚çš„ç±»ä¸Šï¼Œè¡¨ç¤ºå¯¹ç±»çš„è¯´æ˜</span><br><span class="line">    tags=<span class="string">&quot;è¯´æ˜è¯¥ç±»çš„ä½œç”¨ï¼Œå¯ä»¥åœ¨UIç•Œé¢ä¸Šçœ‹åˆ°çš„æ³¨è§£&quot;</span></span><br><span class="line">    value=<span class="string">&quot;è¯¥å‚æ•°æ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œåœ¨UIç•Œé¢ä¸Šä¹Ÿçœ‹åˆ°ï¼Œæ‰€ä»¥ä¸éœ€è¦é…ç½®&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@ApiOperation</span>ï¼šç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¯´æ˜æ–¹æ³•çš„ç”¨é€”ã€ä½œç”¨</span><br><span class="line">    value=<span class="string">&quot;è¯´æ˜æ–¹æ³•çš„ç”¨é€”ã€ä½œç”¨&quot;</span></span><br><span class="line">    notes=<span class="string">&quot;æ–¹æ³•çš„å¤‡æ³¨è¯´æ˜&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@ApiImplicitParams</span>ï¼šç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºä¸€ç»„å‚æ•°è¯´æ˜</span><br><span class="line">    <span class="meta">@ApiImplicitParam</span>ï¼šç”¨åœ¨<span class="meta">@ApiImplicitParams</span>æ³¨è§£ä¸­ï¼ŒæŒ‡å®šä¸€ä¸ªè¯·æ±‚å‚æ•°çš„å„ä¸ªæ–¹é¢</span><br><span class="line">        nameï¼šå‚æ•°å</span><br><span class="line">        valueï¼šå‚æ•°çš„æ±‰å­—è¯´æ˜ã€è§£é‡Š</span><br><span class="line">        requiredï¼šå‚æ•°æ˜¯å¦å¿…é¡»ä¼ </span><br><span class="line">        paramTypeï¼šå‚æ•°æ”¾åœ¨å“ªä¸ªåœ°æ–¹</span><br><span class="line">            Â· header --&gt; è¯·æ±‚å‚æ•°çš„è·å–ï¼š<span class="meta">@RequestHeader</span></span><br><span class="line">            Â· query --&gt; è¯·æ±‚å‚æ•°çš„è·å–ï¼š<span class="meta">@RequestParam</span></span><br><span class="line">            Â· pathï¼ˆç”¨äºrestfulæ¥å£ï¼‰--&gt; è¯·æ±‚å‚æ•°çš„è·å–ï¼š<span class="meta">@PathVariable</span></span><br><span class="line">            Â· bodyï¼ˆä¸å¸¸ç”¨ï¼‰</span><br><span class="line">            Â· formï¼ˆä¸å¸¸ç”¨ï¼‰    </span><br><span class="line">        dataTypeï¼šå‚æ•°ç±»å‹ï¼Œé»˜è®¤Stringï¼Œå…¶å®ƒå€¼dataType=<span class="string">&quot;Integer&quot;</span>       </span><br><span class="line">        defaultValueï¼šå‚æ•°çš„é»˜è®¤å€¼</span><br><span class="line"></span><br><span class="line"><span class="meta">@ApiResponses</span>ï¼šç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºä¸€ç»„å“åº”</span><br><span class="line">    <span class="meta">@ApiResponse</span>ï¼šç”¨åœ¨<span class="meta">@ApiResponses</span>ä¸­ï¼Œä¸€èˆ¬ç”¨äºè¡¨è¾¾ä¸€ä¸ªé”™è¯¯çš„å“åº”ä¿¡æ¯</span><br><span class="line">        codeï¼šæ•°å­—ï¼Œä¾‹å¦‚<span class="number">400</span></span><br><span class="line">        messageï¼šä¿¡æ¯ï¼Œä¾‹å¦‚<span class="string">&quot;è¯·æ±‚å‚æ•°æ²¡å¡«å¥½&quot;</span></span><br><span class="line">        responseï¼šæŠ›å‡ºå¼‚å¸¸çš„ç±»</span><br><span class="line"></span><br><span class="line"><span class="meta">@ApiModel</span>ï¼šç”¨äºå“åº”ç±»ä¸Šï¼Œè¡¨ç¤ºä¸€ä¸ªè¿”å›å“åº”æ•°æ®çš„ä¿¡æ¯</span><br><span class="line">            ï¼ˆè¿™ç§ä¸€èˆ¬ç”¨åœ¨poståˆ›å»ºçš„æ—¶å€™ï¼Œä½¿ç”¨<span class="meta">@RequestBody</span>è¿™æ ·çš„åœºæ™¯ï¼Œ</span><br><span class="line">            è¯·æ±‚å‚æ•°æ— æ³•ä½¿ç”¨<span class="meta">@ApiImplicitParam</span>æ³¨è§£è¿›è¡Œæè¿°çš„æ—¶å€™ï¼‰</span><br><span class="line">    <span class="meta">@ApiModelProperty</span>ï¼šç”¨åœ¨å±æ€§ä¸Šï¼Œæè¿°å“åº”ç±»çš„å±æ€§</span><br></pre></td></tr></table></figure>
<p>Controllerå±‚çš„é…ç½®ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Api(tags = &quot;ç”¨æˆ·ä¿¡æ¯ç®¡ç†&quot;)</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;userRecord&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserRecordController</span> <span class="keyword">extends</span> <span class="title class_">ApiController</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æœåŠ¡å¯¹è±¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> UserRecordService userRecordService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ†é¡µæŸ¥è¯¢æ‰€æœ‰æ•°æ®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> page       åˆ†é¡µå¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> userRecord æŸ¥è¯¢å®ä½“</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> æ‰€æœ‰æ•°æ®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;åˆ†é¡µæŸ¥è¯¢æ‰€æœ‰æ•°æ®&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;page&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R <span class="title function_">selectAll</span><span class="params">(Page&lt;UserRecord&gt; page, UserRecord userRecord)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> success(<span class="built_in">this</span>.userRecordService.page(page, <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;(userRecord)));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€šè¿‡ä¸»é”®æŸ¥è¯¢å•æ¡æ•°æ®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id ä¸»é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å•æ¡æ•°æ®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;é€šè¿‡ä¸»é”®æŸ¥è¯¢å•æ¡æ•°æ®&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R <span class="title function_">selectOne</span><span class="params">(<span class="meta">@PathVariable</span> Serializable id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> success(<span class="built_in">this</span>.userRecordService.getById(id));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–°å¢æ•°æ®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> userRecord å®ä½“å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> æ–°å¢ç»“æœ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ–°å¢æ•°æ®&quot;)</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;insert&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R <span class="title function_">insert</span><span class="params">(<span class="meta">@RequestBody</span> UserRecord userRecord)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> success(<span class="built_in">this</span>.userRecordService.save(userRecord));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¿®æ”¹æ•°æ®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> userRecord å®ä½“å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> ä¿®æ”¹ç»“æœ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;ä¿®æ”¹æ•°æ®&quot;)</span></span><br><span class="line">    <span class="meta">@PutMapping(&quot;update&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R <span class="title function_">update</span><span class="params">(<span class="meta">@RequestBody</span> UserRecord userRecord)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> success(<span class="built_in">this</span>.userRecordService.updateById(userRecord));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ é™¤æ•°æ®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> idList ä¸»é”®ç»“åˆ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> åˆ é™¤ç»“æœ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;åˆ é™¤æ•°æ®&quot;)</span></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;delete&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R <span class="title function_">delete</span><span class="params">(<span class="meta">@RequestParam(&quot;idList&quot;)</span> List&lt;Long&gt; idList)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> success(<span class="built_in">this</span>.userRecordService.removeByIds(idList));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="äº”ã€Swaggerç•Œé¢æ•ˆæœ"><a href="#äº”ã€Swaggerç•Œé¢æ•ˆæœ" class="headerlink" title="äº”ã€Swaggerç•Œé¢æ•ˆæœ"></a>äº”ã€Swaggerç•Œé¢æ•ˆæœ</h1><p><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/2954ce2fd4c4dca470dc4cafd38e2fc3.png" alt="image.png"></p>
<p> Swaggerçš„è®¿é—®è·¯å¾„ç”±port&#x2F;swagger-ui.htmlæ”¹æˆäº†port&#x2F;swagger-ui&#x2F; æˆ–port&#x2F;swagger-ui&#x2F;index.html</p>
<blockquote>
<p>GitHubåœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/ruiyeclub/SpringBoot-Hello">https://github.com/ruiyeclub/SpringBoot-Hello</a></p>
</blockquote>

          
        
      
    </div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>

  <hr/>

    
      

  

  
  
  
  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://ruiyeclub.cn/2022/06/01/Shiro%E6%95%B4%E5%90%88Redis-%E4%BD%BF%E7%94%A8shiro-redis%E6%8F%92%E4%BB%B6%E8%B8%A9%E7%9A%84%E5%9D%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ruiyeclub">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/06/01/Shiro%E6%95%B4%E5%90%88Redis-%E4%BD%BF%E7%94%A8shiro-redis%E6%8F%92%E4%BB%B6%E8%B8%A9%E7%9A%84%E5%9D%91/" itemprop="url">Shiroæ•´åˆRedis:ä½¿ç”¨shiro-redisæ’ä»¶è¸©çš„å‘</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-06-01T09:36:13+08:00">
                2022-06-01
              </time>
            
          </span>

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ã€€ã€€ä¸€ç›´æƒ³åœ¨shiroæƒé™è¿™å—åŠ å…¥ç¼“å­˜ï¼Œä½¿ç”¨redisæ˜¯å†åˆé€‚ä¸è¿‡äº†ï¼Œæ°å·§å·²ç»æœ‰å¤§ä½¬å°†shiroå’Œredisæ•´åˆåœ¨ä¸€èµ·ä½¿ç”¨äº†ï¼Œåªéœ€åœ¨å¼•å…¥pomæ–‡ä»¶ä¸­å¼•å…¥å³å¯ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.crazycake<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>shiro-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯æ˜¯ä½¿ç”¨çš„æ—¶å€™ï¼Œæƒé™é…ç½®è¿™å—ï¼Œä¹Ÿå°±æ˜¯é‡å†™shiroçš„doGetAuthorizationInfoæ–¹æ³•è¿™é‡Œï¼Œä¸€ç›´è¿›ä¸æ¥ï¼Œå®Œæ•´çš„æ§åˆ¶å°å¼‚å¸¸ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">org.crazycake.shiro.exception.PrincipalInstanceException: class com.company.project.manage.entity.UserInfo must has getter for field: id</span><br><span class="line">We need a field to identify this Cache Object in Redis. So you need to defined an id field which you can get unique id to identify this principal. For example, if you use UserInfo as Principal class, the id field maybe userId, userName, email, etc. For example, getUserId(), getUserName(), getEmail(), etc.</span><br><span class="line">Default value is &quot;id&quot;, that means your principal object has a method called &quot;getId()&quot;</span><br></pre></td></tr></table></figure>
<p>å¤§æ¦‚æ„æ€å°±æ˜¯UserInfoå¯¹è±¡ä¸­å¿…é¡»è¦æœ‰idå±æ€§ï¼Œå¹¶ä¸”è¦æœ‰å¯¹åº”çš„getæ–¹æ³•ã€‚åœ¨èº«ä»½éªŒè¯çš„æ—¶å€™å°±å·²ç»å°†userinfoä¿¡æ¯ä¼ é€’ç»™äº†shiroï¼Œç„¶åredisåšç¼“å­˜çš„æ—¶å€™éœ€è¦keyï¼Œkeyçš„å€¼å°±ä¸userinfoé‡Œé¢çš„idå€¼æœ‰å…³ã€‚<br><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/5d634f7823c441ee80b9356c5024cce4.png" alt="image.png"><br>ç‚¹å¼€UserInfoå¯¹è±¡ä¸€çœ‹ï¼Œå°´äº†ä¸ªå°¬ï¼Œä¸»é”®çš„å‘½åä½¿ç”¨çš„æ˜¯uid<br><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/256e8900fd2c9cc5dfbb6629910f5775.png" alt="image.png"><br>æœ€åæŠŠä¸»é”®æ¢æˆidï¼Œå°±è¿è¡Œæ­£å¸¸äº†ã€‚</p>
<p>æ¼”ç¤ºé¡¹ç›®åœ¨æˆ‘çš„githubä¸Šé¢ï¼Œshiro-redisæ’ä»¶çš„æ•´åˆå¯ä»¥æŸ¥çœ‹ï¼š<br><a target="_blank" rel="noopener" href="https://mrbird.cc/Spring-Boot-Shiro%20cache.html">https://mrbird.cc/Spring-Boot-Shiro%20cache.html</a></p>

          
        
      
    </div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>

  <hr/>

    
      

  

  
  
  
  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://ruiyeclub.cn/2022/06/01/SpringBoot%E6%95%B4%E5%90%88Hibernate-Validator%E5%AE%9E%E7%8E%B0%E5%8F%82%E6%95%B0%E9%AA%8C%E8%AF%81%E5%8A%9F%E8%83%BD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ruiyeclub">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/06/01/SpringBoot%E6%95%B4%E5%90%88Hibernate-Validator%E5%AE%9E%E7%8E%B0%E5%8F%82%E6%95%B0%E9%AA%8C%E8%AF%81%E5%8A%9F%E8%83%BD/" itemprop="url">SpringBootæ•´åˆHibernate Validatorå®ç°å‚æ•°éªŒè¯åŠŸèƒ½</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-06-01T09:34:37+08:00">
                2022-06-01
              </time>
            
          </span>

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ã€€ã€€åœ¨å‰åç«¯åˆ†ç¦»çš„å¼€å‘æ¨¡å¼ä¸­ï¼Œåç«¯å¯¹å‰ç«¯ä¼ å…¥çš„å‚æ•°çš„æ ¡éªŒæˆäº†å¿…ä¸å¯å°‘çš„ä¸€ä¸ªç¯èŠ‚ã€‚ä½†æ˜¯åœ¨å¤šå‚æ•°çš„æƒ…å†µä¸‹ï¼Œåœ¨controllerå±‚åŠ ä¸Šå‚æ•°éªŒè¯ï¼Œä¼šæ˜¾å¾—ç‰¹åˆ«è‡ƒè‚¿ï¼Œå¹¶ä¸”ä¼šæœ‰è®¸å¤šçš„é‡å¤ä»£ç ã€‚è¿™é‡Œå¯ä»¥å¼•ç”¨Hibernate Validatoræ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç›´æ¥åœ¨å®ä½“ç±»è¿›è¡Œå‚æ•°æ ¡éªŒï¼ŒéªŒè¯å¤±è´¥ç›´æ¥è¿”å›é”™è¯¯ä¿¡æ¯ç»™å‰ç«¯ï¼Œå‡å°‘controllerå±‚çš„ä»£ç é‡ã€‚</p>
<h1 id="ä¸€ã€pomå¼•å…¥Hibernate-Validator"><a href="#ä¸€ã€pomå¼•å…¥Hibernate-Validator" class="headerlink" title="ä¸€ã€pomå¼•å…¥Hibernate Validator"></a>ä¸€ã€pomå¼•å…¥Hibernate Validator</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- éªŒè¯å™¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate.validator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-validator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.1.5.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="äºŒã€é€šè¿‡æ³¨è§£åœ¨å®ä½“ç±»è¿›è¡Œå‚æ•°æ ¡éªŒ"><a href="#äºŒã€é€šè¿‡æ³¨è§£åœ¨å®ä½“ç±»è¿›è¡Œå‚æ•°æ ¡éªŒ" class="headerlink" title="äºŒã€é€šè¿‡æ³¨è§£åœ¨å®ä½“ç±»è¿›è¡Œå‚æ•°æ ¡éªŒ"></a>äºŒã€é€šè¿‡æ³¨è§£åœ¨å®ä½“ç±»è¿›è¡Œå‚æ•°æ ¡éªŒ</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserModel</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NotNull(message = &quot;ç”¨æˆ·åç§°ä¸èƒ½ä¸ºç©ºï¼&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NotNull(message = &quot;ageä¸èƒ½ä¸ºnull!&quot;)</span></span><br><span class="line">    <span class="meta">@Range(min = 1, max = 888, message = &quot;èŒƒå›´ä¸º1è‡³888&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ—¥æœŸæ ¼å¼åŒ–è½¬æ¢</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@NotNull(message = &quot;æ—¥æœŸä¸èƒ½ä¸ºnull!&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Date date;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œç”¨åˆ°çš„å‚æ•°æ ¡éªŒçš„æ³¨è§£æœ‰@NotNullå’Œ@Rangeï¼Œmessageæ˜¯åˆ°æ—¶å€™æˆ‘ä»¬è¿”å›ç»™å‰ç«¯çš„ä¿¡æ¯ï¼Œæ³¨è§£çš„å…·ä½“æ„æ€å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Null</span>  è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸º<span class="literal">null</span></span><br><span class="line"><span class="meta">@NotNull</span>  è¢«æ³¨é‡Šçš„å…ƒç´ ä¸èƒ½ä¸º<span class="literal">null</span></span><br><span class="line"><span class="meta">@AssertTrue</span>  è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸º<span class="literal">true</span></span><br><span class="line"><span class="meta">@AssertFalse</span>  è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸º<span class="literal">false</span></span><br><span class="line"><span class="meta">@Min(value)</span>  è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å¤§äºç­‰äºæŒ‡å®šçš„æœ€å°å€¼</span><br><span class="line"><span class="meta">@Max(value)</span>  è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å°äºç­‰äºæŒ‡å®šçš„æœ€å¤§å€¼</span><br><span class="line"><span class="meta">@DecimalMin(value)</span>  è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å¤§äºç­‰äºæŒ‡å®šçš„æœ€å°å€¼</span><br><span class="line"><span class="meta">@DecimalMax(value)</span>  è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å°äºç­‰äºæŒ‡å®šçš„æœ€å¤§å€¼</span><br><span class="line"><span class="meta">@Size(max,min)</span>  è¢«æ³¨é‡Šçš„å…ƒç´ çš„å¤§å°å¿…é¡»åœ¨æŒ‡å®šçš„èŒƒå›´å†…ã€‚</span><br><span class="line"><span class="meta">@Digits(integer,fraction)</span>  è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»åœ¨å¯æ¥å—çš„èŒƒå›´å†…</span><br><span class="line"><span class="meta">@Past</span>  è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªè¿‡å»çš„æ—¥æœŸ</span><br><span class="line"><span class="meta">@Future</span>  è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªå°†æ¥çš„æ—¥æœŸ</span><br><span class="line"><span class="meta">@Pattern(value)</span> è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ç¬¦åˆæŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</span><br><span class="line"><span class="meta">@Email</span> è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ç”µå­é‚®ä»¶åœ°å€</span><br><span class="line"><span class="meta">@Length</span> è¢«æ³¨é‡Šçš„å­—ç¬¦ä¸²çš„å¤§å°å¿…é¡»åœ¨æŒ‡å®šçš„èŒƒå›´å†…</span><br><span class="line"><span class="meta">@NotEmpty</span>  è¢«æ³¨é‡Šçš„å­—ç¬¦ä¸²å¿…é¡»éç©º</span><br><span class="line"><span class="meta">@Range</span>  è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»åœ¨åˆé€‚çš„èŒƒå›´å†…</span><br></pre></td></tr></table></figure>
<h1 id="ä¸‰ã€controllerå±‚çš„æ–¹æ³•åŠ ä¸Š-Validæ³¨è§£"><a href="#ä¸‰ã€controllerå±‚çš„æ–¹æ³•åŠ ä¸Š-Validæ³¨è§£" class="headerlink" title="ä¸‰ã€controllerå±‚çš„æ–¹æ³•åŠ ä¸Š@Validæ³¨è§£"></a>ä¸‰ã€controllerå±‚çš„æ–¹æ³•åŠ ä¸Š@Validæ³¨è§£</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/testPost&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">testPost</span><span class="params">(<span class="meta">@RequestBody</span> <span class="meta">@Valid</span> UserModel userModel, BindingResult result)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(result.hasErrors())&#123;</span><br><span class="line">        <span class="keyword">for</span>(ObjectError error:result.getAllErrors())&#123;</span><br><span class="line">            <span class="keyword">return</span> error.getDefaultMessage();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> userModel;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>controllerå±‚è¿™é‡Œåªéœ€è¦åœ¨å®ä½“ç±»çš„å‰é¢åŠ ä¸Š@Validæ³¨è§£ï¼Œè¿™ä¸ªæ³¨è§£å¯ä»¥å®ç°æ•°æ®çš„éªŒè¯ã€‚è¿™é‡ŒBindingResultæ˜¯å­˜å‚¨äº†æ ¡éªŒæ—¶çš„é”™è¯¯ä¿¡æ¯ï¼ŒéªŒè¯æœ‰è¯¯æ—¶å°†é”™è¯¯ä¿¡æ¯è¿”å›ç»™å‰ç«¯ã€‚è¿™é‡Œä¸ä½¿ç”¨BindingResultçš„æ—¶å€™ï¼Œæ§åˆ¶å°ä¼šæŠ¥MethodArgumentNotValidExceptionï¼Œè¿™é‡Œå¯ä»¥é€šè¿‡è‡ªå®šä¹‰å¼‚å¸¸ç±»æ¥æ•æ‰å®ƒï¼Œç„¶åå»æ‰BindingResultï¼Œä»¥åŠéš¾çœ‹çš„ifåˆ¤æ–­ã€‚</p>
<h1 id="å››ã€è‡ªå®šä¹‰å¼‚å¸¸ç±»æ•æ‰MethodArgumentNotValidException"><a href="#å››ã€è‡ªå®šä¹‰å¼‚å¸¸ç±»æ•æ‰MethodArgumentNotValidException" class="headerlink" title="å››ã€è‡ªå®šä¹‰å¼‚å¸¸ç±»æ•æ‰MethodArgumentNotValidException"></a>å››ã€è‡ªå®šä¹‰å¼‚å¸¸ç±»æ•æ‰MethodArgumentNotValidException</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GlobalExceptionAdvice</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler(value = MethodArgumentNotValidException.class)</span></span><br><span class="line">    <span class="keyword">public</span> JsonData <span class="title function_">validException</span><span class="params">(MethodArgumentNotValidException e)</span> &#123;</span><br><span class="line">        <span class="comment">//éªŒè¯postè¯·æ±‚çš„å‚æ•°åˆæ³•æ€§</span></span><br><span class="line">        <span class="type">MethodArgumentNotValidException</span> <span class="variable">notValidException</span> <span class="operator">=</span> e;</span><br><span class="line">        <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> notValidException.getBindingResult().getFieldError().getDefaultMessage();</span><br><span class="line">        <span class="keyword">return</span> JsonData.buildError(msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨PostMançš„æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š<br><img src="https://ruiyeclub.oss-cn-shenzhen.aliyuncs.com/articles/0e7da5f5ea00deaf1e69196d09085f49.png" alt="image.png"></p>
<p>å…·ä½“çš„ä»£ç å¯ä»¥åœ¨æˆ‘çš„githubä¸Šé¢æŸ¥çœ‹ï¼Œ<a target="_blank" rel="noopener" href="https://github.com/ruiyeclub/SpringBoot-Hello">https://github.com/ruiyeclub/SpringBoot-Hello</a></p>

          
        
      
    </div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>

  <hr/>

    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/"></a>
  </nav>



          </div>
          


          

        </div>
        
          
    
  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

  

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="sidebar-sticky sticky">
            <div itemscope="" itemtype="http://schema.org/Person">
              <div class="author__avatar">
                
                  <img itemprop="image"
                    src="/images/avatar.jpg"
                    alt="" /> 
                
              </div>
              <div class="author__content">
                <h3 class="author__name" itemprop="name"></h3>
                <p class="author__bio" itemprop="description"></p>
              </div>
              
                <div class="author__urls-wrapper">
                  <button class="btn btn--inverse">Follow</button>
                  <ul class="author__urls social-icons">
                    
                      <li>
                        <a href="https://github.com/ruiyeclub" target="_blank" title="GitHub">
                            
                              <i class="fa fa-fw fa-github"></i>&nbsp;&nbsp;GitHub</a>
                      </li>
                    
                      <li>
                        <a href="https://github.com/ruiyeclub/ray4j.top" target="_blank" title="Ray4j.top">
                            
                              <i class="fa fa-fw fa-link"></i>&nbsp;&nbsp;Ray4j.top</a>
                      </li>
                    
                      <li>
                        <a href="https://github.com/ruiyeclub/SpringBoot-Hello" target="_blank" title="Springboot-Hello">
                            
                              <i class="fa fa-fw fa-cloud"></i>&nbsp;&nbsp;Springboot-Hello</a>
                      </li>
                    

                    
                      <li class="menu-item menu-item-search">
                        
                          <a href="javascript:;" class="popup-trigger">
                          <i class="fa fa-fw fa-search"></i>&nbsp;&nbsp;
                        
                          
                          
                          Search
                        </a>
                      </li>
                    

                    
                      <div class="site-search">
                        
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



                      </div>
                    

                  </ul>
                </div>
              
            </div>
          </div>
        </div>
      </section>



      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" style="display: inline-block">&copy; 2022 &mdash; <span itemprop="copyrightYear">2025</span>
  <span class="author" itemprop="copyrightHolder">Cr.</span>

  
  &nbsp;&nbsp; | &nbsp;&nbsp;
</div>

        
<div class="busuanzi-count" style="display: inline-block">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      UV
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      PV
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    <div class="back-to-top">
      <span style="font-family:'Source Sans Pro','Helvetica Neue',Arial,sans-serif;font-size:1.2em;font-weight:600">TOP</span>
    </div>

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  


  <script type="text/javascript" src="/js/src/mo.min.js"></script>
  <script>$(function(){$("a").not(".nav-link,.cloud-tie-join-count,.ignore-href,.jstree-anchor").addClass("animsition-link")});var burst1=new mojs.Burst({left:0,top:0,radius:{5:40},children:{shape:"circle",fill:["red","cyan","orange"],fillOpacity:.8,radiusX:3.5,radiusY:3.5}});document.addEventListener("click",function(a){null==a.target.href&&"footer"!=a.target.className&&"copyright"!=a.target.className&&"author__urls social-icons"!=a.target.className&&"author__avatar"!=a.target.className&&"sidebar sidebar-active"!=a.target.className&&burst1.tune({x:a.pageX,y:a.pageY}).generate().replay()})</script>
  <div data-name="mojs-shape"></div>
  
</body>
</html>
